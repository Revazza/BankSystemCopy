2023-04-12 12:26:23.630 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-04-12 12:26:23.728 +04:00 [DBG] Hosting starting
2023-04-12 12:26:23.755 +04:00 [INF] User profile is available. Using 'C:\Users\srevazishvili\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-04-12 12:26:23.761 +04:00 [DBG] Reading data from file 'C:\Users\srevazishvili\AppData\Local\ASP.NET\DataProtection-Keys\key-298957ac-1947-4690-b38f-95802ef792d5.xml'.
2023-04-12 12:26:23.780 +04:00 [DBG] Reading data from file 'C:\Users\srevazishvili\AppData\Local\ASP.NET\DataProtection-Keys\key-6b67ca3e-ca56-48ef-abcb-f08bc91b8c44.xml'.
2023-04-12 12:26:23.793 +04:00 [DBG] Found key {298957ac-1947-4690-b38f-95802ef792d5}.
2023-04-12 12:26:23.801 +04:00 [DBG] Found key {6b67ca3e-ca56-48ef-abcb-f08bc91b8c44}.
2023-04-12 12:26:23.810 +04:00 [DBG] Considering key {298957ac-1947-4690-b38f-95802ef792d5} with expiration date 2023-06-02 19:40:18Z as default key.
2023-04-12 12:26:23.813 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-04-12 12:26:23.816 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-04-12 12:26:23.819 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-04-12 12:26:23.823 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-04-12 12:26:23.827 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-04-12 12:26:23.833 +04:00 [DBG] Using key {298957ac-1947-4690-b38f-95802ef792d5} as the default key.
2023-04-12 12:26:23.835 +04:00 [DBG] Key ring with default key {298957ac-1947-4690-b38f-95802ef792d5} was loaded during application startup.
2023-04-12 12:26:24.014 +04:00 [INF] Now listening on: https://localhost:7195
2023-04-12 12:26:24.016 +04:00 [INF] Now listening on: http://localhost:5244
2023-04-12 12:26:24.017 +04:00 [DBG] Loaded hosting startup assembly BankSystem.InternetBank.Api
2023-04-12 12:26:24.018 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-04-12 12:26:24.019 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-04-12 12:26:24.020 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-04-12 12:26:24.021 +04:00 [INF] Hosting environment: Development
2023-04-12 12:26:24.022 +04:00 [INF] Content root path: C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank.Api
2023-04-12 12:26:24.023 +04:00 [DBG] Hosting started
2023-04-12 12:26:24.405 +04:00 [DBG] Connection id "0HMPR5UD7E5CJ" received FIN.
2023-04-12 12:26:24.411 +04:00 [DBG] Connection id "0HMPR5UD7E5CJ" accepted.
2023-04-12 12:26:24.413 +04:00 [DBG] Connection id "0HMPR5UD7E5CJ" started.
2023-04-12 12:26:24.431 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-04-12 12:26:24.456 +04:00 [DBG] Connection id "0HMPR5UD7E5CJ" stopped.
2023-04-12 12:26:24.460 +04:00 [DBG] Connection id "0HMPR5UD7E5CJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-04-12 12:26:27.067 +04:00 [DBG] Connection id "0HMPR5UD7E5CK" accepted.
2023-04-12 12:26:27.069 +04:00 [DBG] Connection id "0HMPR5UD7E5CK" started.
2023-04-12 12:26:27.150 +04:00 [DBG] Connection 0HMPR5UD7E5CK established using the following protocol: "Tls12"
2023-04-12 12:26:27.255 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7195/swagger/index.html - -
2023-04-12 12:26:27.280 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-04-12 12:26:27.308 +04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-04-12 12:26:27.309 +04:00 [DBG] Request did not match any endpoints
2023-04-12 12:26:27.611 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-04-12 12:26:27.633 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-04-12 12:26:27.637 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7195/swagger/index.html - - - 200 - text/html;charset=utf-8 383.6462ms
2023-04-12 12:26:27.681 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7195/_framework/aspnetcore-browser-refresh.js - -
2023-04-12 12:26:27.687 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7195/_framework/aspnetcore-browser-refresh.js - - - 200 12024 application/javascript;+charset=utf-8 6.1704ms
2023-04-12 12:26:27.713 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7195/_vs/browserLink - -
2023-04-12 12:26:27.858 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7195/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 145.8779ms
2023-04-12 12:26:27.946 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7195/swagger/v1/swagger.json - -
2023-04-12 12:26:27.948 +04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-04-12 12:26:27.950 +04:00 [DBG] Request did not match any endpoints
2023-04-12 12:26:28.144 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7195/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 197.4848ms
2023-04-12 12:26:29.757 +04:00 [DBG] Connection id "0HMPR5UD7E5CK" received FIN.
2023-04-12 12:26:29.760 +04:00 [DBG] The connection queue processing loop for 0HMPR5UD7E5CK completed.
2023-04-12 12:26:29.763 +04:00 [DBG] Connection id "0HMPR5UD7E5CK" is closed. The last processed stream ID was 7.
2023-04-12 12:26:29.765 +04:00 [DBG] Connection id "0HMPR5UD7E5CK" sending FIN because: "The client closed the connection."
2023-04-12 12:26:29.769 +04:00 [DBG] Connection id "0HMPR5UD7E5CK" stopped.
2023-04-12 12:30:42.578 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-04-12 12:30:42.654 +04:00 [DBG] Hosting starting
2023-04-12 12:30:42.679 +04:00 [INF] User profile is available. Using 'C:\Users\srevazishvili\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-04-12 12:30:42.685 +04:00 [DBG] Reading data from file 'C:\Users\srevazishvili\AppData\Local\ASP.NET\DataProtection-Keys\key-298957ac-1947-4690-b38f-95802ef792d5.xml'.
2023-04-12 12:30:42.704 +04:00 [DBG] Reading data from file 'C:\Users\srevazishvili\AppData\Local\ASP.NET\DataProtection-Keys\key-6b67ca3e-ca56-48ef-abcb-f08bc91b8c44.xml'.
2023-04-12 12:30:42.713 +04:00 [DBG] Found key {298957ac-1947-4690-b38f-95802ef792d5}.
2023-04-12 12:30:42.720 +04:00 [DBG] Found key {6b67ca3e-ca56-48ef-abcb-f08bc91b8c44}.
2023-04-12 12:30:42.726 +04:00 [DBG] Considering key {298957ac-1947-4690-b38f-95802ef792d5} with expiration date 2023-06-02 19:40:18Z as default key.
2023-04-12 12:30:42.731 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-04-12 12:30:42.733 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-04-12 12:30:42.736 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-04-12 12:30:42.739 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-04-12 12:30:42.744 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-04-12 12:30:42.748 +04:00 [DBG] Using key {298957ac-1947-4690-b38f-95802ef792d5} as the default key.
2023-04-12 12:30:42.750 +04:00 [DBG] Key ring with default key {298957ac-1947-4690-b38f-95802ef792d5} was loaded during application startup.
2023-04-12 12:30:42.910 +04:00 [INF] Now listening on: https://localhost:7195
2023-04-12 12:30:42.911 +04:00 [INF] Now listening on: http://localhost:5244
2023-04-12 12:30:42.912 +04:00 [DBG] Loaded hosting startup assembly BankSystem.InternetBank.Api
2023-04-12 12:30:42.913 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-04-12 12:30:42.914 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-04-12 12:30:42.915 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-04-12 12:30:42.916 +04:00 [INF] Hosting environment: Development
2023-04-12 12:30:42.917 +04:00 [INF] Content root path: C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank.Api
2023-04-12 12:30:42.917 +04:00 [DBG] Hosting started
2023-04-12 12:30:42.970 +04:00 [DBG] Connection id "0HMPR60Q99VSK" accepted.
2023-04-12 12:30:42.970 +04:00 [DBG] Connection id "0HMPR60Q99VSJ" accepted.
2023-04-12 12:30:42.972 +04:00 [DBG] Connection id "0HMPR60Q99VSK" started.
2023-04-12 12:30:42.973 +04:00 [DBG] Connection id "0HMPR60Q99VSJ" started.
2023-04-12 12:30:42.986 +04:00 [DBG] Connection id "0HMPR60Q99VSJ" received FIN.
2023-04-12 12:30:42.986 +04:00 [DBG] Connection id "0HMPR60Q99VSK" received FIN.
2023-04-12 12:30:42.992 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-04-12 12:30:42.992 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-04-12 12:30:43.021 +04:00 [DBG] Connection id "0HMPR60Q99VSK" stopped.
2023-04-12 12:30:43.021 +04:00 [DBG] Connection id "0HMPR60Q99VSJ" stopped.
2023-04-12 12:30:43.023 +04:00 [DBG] Connection id "0HMPR60Q99VSJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-04-12 12:30:43.023 +04:00 [DBG] Connection id "0HMPR60Q99VSK" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-04-12 12:30:43.373 +04:00 [DBG] Connection id "0HMPR60Q99VSL" accepted.
2023-04-12 12:30:43.374 +04:00 [DBG] Connection id "0HMPR60Q99VSL" started.
2023-04-12 12:30:43.569 +04:00 [DBG] Connection 0HMPR60Q99VSL established using the following protocol: "Tls12"
2023-04-12 12:30:43.650 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7195/swagger/index.html - -
2023-04-12 12:30:43.676 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-04-12 12:30:43.702 +04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-04-12 12:30:43.705 +04:00 [DBG] Request did not match any endpoints
2023-04-12 12:30:43.949 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-04-12 12:30:43.970 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-04-12 12:30:43.973 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7195/swagger/index.html - - - 200 - text/html;charset=utf-8 325.5958ms
2023-04-12 12:30:43.996 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7195/_framework/aspnetcore-browser-refresh.js - -
2023-04-12 12:30:44.003 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7195/_framework/aspnetcore-browser-refresh.js - - - 200 12024 application/javascript;+charset=utf-8 6.4316ms
2023-04-12 12:30:44.021 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7195/_vs/browserLink - -
2023-04-12 12:30:44.135 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7195/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 113.4339ms
2023-04-12 12:30:44.219 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7195/swagger/v1/swagger.json - -
2023-04-12 12:30:44.221 +04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-04-12 12:30:44.223 +04:00 [DBG] Request did not match any endpoints
2023-04-12 12:30:44.413 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7195/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 193.9140ms
2023-04-12 12:35:14.051 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-04-12 12:35:14.135 +04:00 [DBG] Hosting starting
2023-04-12 12:35:14.164 +04:00 [INF] User profile is available. Using 'C:\Users\srevazishvili\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-04-12 12:35:14.171 +04:00 [DBG] Reading data from file 'C:\Users\srevazishvili\AppData\Local\ASP.NET\DataProtection-Keys\key-298957ac-1947-4690-b38f-95802ef792d5.xml'.
2023-04-12 12:35:14.178 +04:00 [DBG] Reading data from file 'C:\Users\srevazishvili\AppData\Local\ASP.NET\DataProtection-Keys\key-6b67ca3e-ca56-48ef-abcb-f08bc91b8c44.xml'.
2023-04-12 12:35:14.186 +04:00 [DBG] Found key {298957ac-1947-4690-b38f-95802ef792d5}.
2023-04-12 12:35:14.191 +04:00 [DBG] Found key {6b67ca3e-ca56-48ef-abcb-f08bc91b8c44}.
2023-04-12 12:35:14.201 +04:00 [DBG] Considering key {298957ac-1947-4690-b38f-95802ef792d5} with expiration date 2023-06-02 19:40:18Z as default key.
2023-04-12 12:35:14.205 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-04-12 12:35:14.210 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-04-12 12:35:14.214 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-04-12 12:35:14.220 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-04-12 12:35:14.227 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-04-12 12:35:14.234 +04:00 [DBG] Using key {298957ac-1947-4690-b38f-95802ef792d5} as the default key.
2023-04-12 12:35:14.237 +04:00 [DBG] Key ring with default key {298957ac-1947-4690-b38f-95802ef792d5} was loaded during application startup.
2023-04-12 12:35:14.403 +04:00 [INF] Now listening on: https://localhost:7195
2023-04-12 12:35:14.405 +04:00 [INF] Now listening on: http://localhost:5244
2023-04-12 12:35:14.406 +04:00 [DBG] Loaded hosting startup assembly BankSystem.InternetBank.Api
2023-04-12 12:35:14.407 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-04-12 12:35:14.408 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-04-12 12:35:14.409 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-04-12 12:35:14.410 +04:00 [INF] Hosting environment: Development
2023-04-12 12:35:14.411 +04:00 [INF] Content root path: C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank.Api
2023-04-12 12:35:14.412 +04:00 [DBG] Hosting started
2023-04-12 12:35:14.438 +04:00 [DBG] Connection id "0HMPR63B67CQV" received FIN.
2023-04-12 12:35:14.438 +04:00 [DBG] Connection id "0HMPR63B67CQU" received FIN.
2023-04-12 12:35:14.445 +04:00 [DBG] Connection id "0HMPR63B67CQV" accepted.
2023-04-12 12:35:14.445 +04:00 [DBG] Connection id "0HMPR63B67CQU" accepted.
2023-04-12 12:35:14.447 +04:00 [DBG] Connection id "0HMPR63B67CQV" started.
2023-04-12 12:35:14.448 +04:00 [DBG] Connection id "0HMPR63B67CQU" started.
2023-04-12 12:35:14.460 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-04-12 12:35:14.460 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-04-12 12:35:14.505 +04:00 [DBG] Connection id "0HMPR63B67CQV" stopped.
2023-04-12 12:35:14.505 +04:00 [DBG] Connection id "0HMPR63B67CQU" stopped.
2023-04-12 12:35:14.508 +04:00 [DBG] Connection id "0HMPR63B67CQU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-04-12 12:35:14.508 +04:00 [DBG] Connection id "0HMPR63B67CQV" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-04-12 12:35:14.638 +04:00 [DBG] Connection id "0HMPR63B67CR0" accepted.
2023-04-12 12:35:14.640 +04:00 [DBG] Connection id "0HMPR63B67CR0" started.
2023-04-12 12:35:14.727 +04:00 [DBG] Connection 0HMPR63B67CR0 established using the following protocol: "Tls12"
2023-04-12 12:35:14.855 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7195/swagger/index.html - -
2023-04-12 12:35:14.887 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-04-12 12:35:14.930 +04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-04-12 12:35:14.936 +04:00 [DBG] Request did not match any endpoints
2023-04-12 12:35:15.158 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-04-12 12:35:15.176 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-04-12 12:35:15.182 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7195/swagger/index.html - - - 200 - text/html;charset=utf-8 344.8909ms
2023-04-12 12:35:15.204 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7195/_framework/aspnetcore-browser-refresh.js - -
2023-04-12 12:35:15.211 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7195/_framework/aspnetcore-browser-refresh.js - - - 200 12024 application/javascript;+charset=utf-8 5.5372ms
2023-04-12 12:35:15.232 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7195/_vs/browserLink - -
2023-04-12 12:35:15.253 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7195/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 20.7910ms
2023-04-12 12:35:15.379 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7195/swagger/v1/swagger.json - -
2023-04-12 12:35:15.382 +04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-04-12 12:35:15.385 +04:00 [DBG] Request did not match any endpoints
2023-04-12 12:35:15.525 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7195/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 145.5541ms
2023-04-12 12:35:18.557 +04:00 [DBG] Connection id "0HMPR63B67CR0" received FIN.
2023-04-12 12:35:18.561 +04:00 [DBG] The connection queue processing loop for 0HMPR63B67CR0 completed.
2023-04-12 12:35:18.564 +04:00 [DBG] Connection id "0HMPR63B67CR0" is closed. The last processed stream ID was 7.
2023-04-12 12:35:18.567 +04:00 [DBG] Connection id "0HMPR63B67CR0" sending FIN because: "The client closed the connection."
2023-04-12 12:35:18.572 +04:00 [DBG] Connection id "0HMPR63B67CR0" stopped.
2023-04-12 12:35:29.611 +04:00 [DBG] Connection id "0HMPR63B67CR1" accepted.
2023-04-12 12:35:29.612 +04:00 [DBG] Connection id "0HMPR63B67CR1" started.
2023-04-12 12:35:29.618 +04:00 [DBG] Connection 0HMPR63B67CR1 established using the following protocol: "Tls12"
2023-04-12 12:35:29.621 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7195/User/login - -
2023-04-12 12:35:29.625 +04:00 [DBG] 1 candidate(s) found for the request path '/User/login'
2023-04-12 12:35:29.627 +04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2023-04-12 12:35:29.631 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:35:29.635 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:35:29.637 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:35:29.638 +04:00 [DBG] The request is a preflight request.
2023-04-12 12:35:29.640 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7195/User/login - - - 204 - - 19.3445ms
2023-04-12 12:35:29.642 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7195/User/login application/json 58
2023-04-12 12:35:29.646 +04:00 [DBG] 1 candidate(s) found for the request path '/User/login'
2023-04-12 12:35:29.649 +04:00 [DBG] Endpoint 'BankSystem.InternetBank.Api.Controllers.UserController.LoginAsync (BankSystem.InternetBank.Api)' with route pattern 'User/login' is valid for the request path '/User/login'
2023-04-12 12:35:29.651 +04:00 [DBG] Request matched endpoint 'BankSystem.InternetBank.Api.Controllers.UserController.LoginAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:35:29.653 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:35:29.655 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:35:29.656 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:35:29.674 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-04-12 12:35:29.741 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-04-12 12:35:29.745 +04:00 [INF] Executing endpoint 'BankSystem.InternetBank.Api.Controllers.UserController.LoginAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:35:29.782 +04:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(BankSystem.InternetBank.Models.Requests.LoginRequest) on controller BankSystem.InternetBank.Api.Controllers.UserController (BankSystem.InternetBank.Api).
2023-04-12 12:35:29.786 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-04-12 12:35:29.787 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-04-12 12:35:29.790 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-04-12 12:35:29.792 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-04-12 12:35:29.794 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-04-12 12:35:29.798 +04:00 [DBG] Executing controller factory for controller BankSystem.InternetBank.Api.Controllers.UserController (BankSystem.InternetBank.Api)
2023-04-12 12:35:29.992 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-04-12 12:35:30.031 +04:00 [DBG] Executed controller factory for controller BankSystem.InternetBank.Api.Controllers.UserController (BankSystem.InternetBank.Api)
2023-04-12 12:35:30.043 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.LoginRequest' ...
2023-04-12 12:35:30.047 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.LoginRequest' using the name '' in request data ...
2023-04-12 12:35:30.050 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-04-12 12:35:30.059 +04:00 [DBG] Connection id "0HMPR63B67CR1", Request id "0HMPR63B67CR1:00000003": started reading request body.
2023-04-12 12:35:30.061 +04:00 [DBG] Connection id "0HMPR63B67CR1", Request id "0HMPR63B67CR1:00000003": done reading request body.
2023-04-12 12:35:30.067 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BankSystem.InternetBank.Models.Requests.LoginRequest'
2023-04-12 12:35:30.069 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.LoginRequest'.
2023-04-12 12:35:30.070 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.LoginRequest'.
2023-04-12 12:35:30.072 +04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.LoginRequest' ...
2023-04-12 12:35:30.083 +04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.LoginRequest'.
2023-04-12 12:35:30.541 +04:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-04-12 12:35:30.543 +04:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<Guid>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-04-12 12:35:30.891 +04:00 [DBG] Entity Framework Core 7.0.3 initialized 'BankSystemDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.3' with options: None
2023-04-12 12:35:30.994 +04:00 [DBG] Compiling query expression: 
'DbSet<UserEntity>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-04-12 12:35:31.146 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserEntity>(
    asyncEnumerable: new SingleQueryingEnumerable<UserEntity>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserEntity.AccessFailedCount (int) Required, 1], [Property: UserEntity.BirthDate (DateTime) Required, 2], [Property: UserEntity.ConcurrencyStamp (string) Concurrency, 3], [Property: UserEntity.Email (string) MaxLength(256), 4], [Property: UserEntity.EmailConfirmed (bool) Required, 5], [Property: UserEntity.FirstName (string), 6], [Property: UserEntity.LastName (string), 7], [Property: UserEntity.LockoutEnabled (bool) Required, 8], [Property: UserEntity.LockoutEnd (DateTimeOffset?), 9], [Property: UserEntity.NormalizedEmail (string) Index MaxLength(256), 10], [Property: UserEntity.NormalizedUserName (string) Index MaxLength(256), 11], [Property: UserEntity.PasswordHash (string), 12], [Property: UserEntity.PersonalNumber (string), 13], [Property: UserEntity.PhoneNumber (string), 14], [Property: UserEntity.PhoneNumberConfirmed (bool) Required, 15], [Property: UserEntity.RegisteredAt (DateTime) Required, 16], [Property: UserEntity.SecurityStamp (string), 17], [Property: UserEntity.TwoFactorEnabled (bool) Required, 18], [Property: UserEntity.UserName (string) MaxLength(256), 19] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.BirthDate, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PersonalNumber, a.PhoneNumber, a.PhoneNumberConfirmed, a.RegisteredAt, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserEntity>, 
        BankSystem.Common.Db.BankSystemDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-04-12 12:35:31.191 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-04-12 12:35:31.195 +04:00 [DBG] Creating DbConnection.
2023-04-12 12:35:31.228 +04:00 [DBG] Created DbConnection. (29ms).
2023-04-12 12:35:31.239 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (47ms).
2023-04-12 12:35:31.253 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (63ms).
2023-04-12 12:35:31.259 +04:00 [DBG] Opening connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:35:31.477 +04:00 [DBG] Opened connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:35:31.487 +04:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonalNumber], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegisteredAt], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-04-12 12:35:31.557 +04:00 [INF] Executed DbCommand (71ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonalNumber], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegisteredAt], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-04-12 12:35:31.611 +04:00 [DBG] Context 'BankSystemDbContext' started tracking 'UserEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-04-12 12:35:31.669 +04:00 [DBG] Closing data reader to 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:35:31.676 +04:00 [DBG] A data reader for 'BankSystem' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 111ms reading results.
2023-04-12 12:35:31.680 +04:00 [DBG] Closing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:35:31.686 +04:00 [DBG] Closed connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB' (5ms).
2023-04-12 12:35:31.793 +04:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .Join(
        inner: DbSet<IdentityRole<Guid>>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-04-12 12:35:31.829 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    BankSystem.Common.Db.BankSystemDbContext, 
    False, 
    False, 
    True
)'
2023-04-12 12:35:31.835 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-04-12 12:35:31.836 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-04-12 12:35:31.838 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-04-12 12:35:31.839 +04:00 [DBG] Opening connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:35:31.841 +04:00 [DBG] Opened connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:35:31.844 +04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-04-12 12:35:31.851 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-04-12 12:35:31.856 +04:00 [DBG] Closing data reader to 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:35:31.857 +04:00 [DBG] A data reader for 'BankSystem' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2023-04-12 12:35:31.860 +04:00 [DBG] Closing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:35:31.862 +04:00 [DBG] Closed connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB' (1ms).
2023-04-12 12:35:32.027 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-04-12 12:35:32.031 +04:00 [DBG] No information found on request to perform content negotiation.
2023-04-12 12:35:32.032 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-04-12 12:35:32.033 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-04-12 12:35:32.035 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-04-12 12:35:32.037 +04:00 [INF] Executing OkObjectResult, writing value of type 'BankSystem.Common.Models.HttpResult'.
2023-04-12 12:35:32.051 +04:00 [INF] Executed action BankSystem.InternetBank.Api.Controllers.UserController.LoginAsync (BankSystem.InternetBank.Api) in 2252.8626ms
2023-04-12 12:35:32.054 +04:00 [INF] Executed endpoint 'BankSystem.InternetBank.Api.Controllers.UserController.LoginAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:35:32.057 +04:00 [DBG] 'BankSystemDbContext' disposed.
2023-04-12 12:35:32.062 +04:00 [DBG] Disposing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:35:32.066 +04:00 [DBG] Disposed connection to database '' on server '' (3ms).
2023-04-12 12:35:32.069 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7195/User/login application/json 58 - 200 - application/json;+charset=utf-8 2427.0806ms
2023-04-12 12:35:33.579 +04:00 [DBG] Connection id "0HMPR63B67CR1" received FIN.
2023-04-12 12:35:33.581 +04:00 [DBG] Connection id "0HMPR63B67CR1" is closed. The last processed stream ID was 3.
2023-04-12 12:35:33.581 +04:00 [DBG] Connection id "0HMPR63B67CR1" sending FIN because: "The client closed the connection."
2023-04-12 12:35:33.583 +04:00 [DBG] The connection queue processing loop for 0HMPR63B67CR1 completed.
2023-04-12 12:35:33.585 +04:00 [DBG] Connection id "0HMPR63B67CR1" stopped.
2023-04-12 12:36:30.875 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-04-12 12:36:30.960 +04:00 [DBG] Hosting starting
2023-04-12 12:36:30.988 +04:00 [INF] User profile is available. Using 'C:\Users\srevazishvili\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-04-12 12:36:30.995 +04:00 [DBG] Reading data from file 'C:\Users\srevazishvili\AppData\Local\ASP.NET\DataProtection-Keys\key-298957ac-1947-4690-b38f-95802ef792d5.xml'.
2023-04-12 12:36:31.002 +04:00 [DBG] Reading data from file 'C:\Users\srevazishvili\AppData\Local\ASP.NET\DataProtection-Keys\key-6b67ca3e-ca56-48ef-abcb-f08bc91b8c44.xml'.
2023-04-12 12:36:31.008 +04:00 [DBG] Found key {298957ac-1947-4690-b38f-95802ef792d5}.
2023-04-12 12:36:31.012 +04:00 [DBG] Found key {6b67ca3e-ca56-48ef-abcb-f08bc91b8c44}.
2023-04-12 12:36:31.018 +04:00 [DBG] Considering key {298957ac-1947-4690-b38f-95802ef792d5} with expiration date 2023-06-02 19:40:18Z as default key.
2023-04-12 12:36:31.021 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-04-12 12:36:31.024 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-04-12 12:36:31.026 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-04-12 12:36:31.030 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-04-12 12:36:31.036 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-04-12 12:36:31.041 +04:00 [DBG] Using key {298957ac-1947-4690-b38f-95802ef792d5} as the default key.
2023-04-12 12:36:31.043 +04:00 [DBG] Key ring with default key {298957ac-1947-4690-b38f-95802ef792d5} was loaded during application startup.
2023-04-12 12:36:31.159 +04:00 [INF] Now listening on: https://localhost:7195
2023-04-12 12:36:31.160 +04:00 [INF] Now listening on: http://localhost:5244
2023-04-12 12:36:31.161 +04:00 [DBG] Loaded hosting startup assembly BankSystem.InternetBank.Api
2023-04-12 12:36:31.162 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-04-12 12:36:31.163 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-04-12 12:36:31.164 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-04-12 12:36:31.165 +04:00 [INF] Hosting environment: Development
2023-04-12 12:36:31.166 +04:00 [INF] Content root path: C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank.Api
2023-04-12 12:36:31.166 +04:00 [DBG] Hosting started
2023-04-12 12:36:31.259 +04:00 [DBG] Connection id "0HMPR6422RAI9" accepted.
2023-04-12 12:36:31.261 +04:00 [DBG] Connection id "0HMPR6422RAI9" started.
2023-04-12 12:36:31.270 +04:00 [DBG] Connection id "0HMPR6422RAI9" received FIN.
2023-04-12 12:36:31.274 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-04-12 12:36:31.312 +04:00 [DBG] Connection id "0HMPR6422RAIA" accepted.
2023-04-12 12:36:31.322 +04:00 [DBG] Connection id "0HMPR6422RAIA" started.
2023-04-12 12:36:31.324 +04:00 [DBG] Connection id "0HMPR6422RAI9" stopped.
2023-04-12 12:36:31.327 +04:00 [DBG] Connection id "0HMPR6422RAI9" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-04-12 12:36:31.377 +04:00 [DBG] Connection 0HMPR6422RAIA established using the following protocol: "Tls12"
2023-04-12 12:36:31.444 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7195/swagger/index.html - -
2023-04-12 12:36:31.468 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-04-12 12:36:31.494 +04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-04-12 12:36:31.496 +04:00 [DBG] Request did not match any endpoints
2023-04-12 12:36:31.672 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-04-12 12:36:31.687 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-04-12 12:36:31.691 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7195/swagger/index.html - - - 200 - text/html;charset=utf-8 250.7166ms
2023-04-12 12:36:31.713 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7195/_framework/aspnetcore-browser-refresh.js - -
2023-04-12 12:36:31.713 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7195/_vs/browserLink - -
2023-04-12 12:36:31.722 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7195/_framework/aspnetcore-browser-refresh.js - - - 200 12024 application/javascript;+charset=utf-8 7.4545ms
2023-04-12 12:36:31.738 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7195/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 24.6540ms
2023-04-12 12:36:31.865 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7195/swagger/v1/swagger.json - -
2023-04-12 12:36:31.867 +04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-04-12 12:36:31.868 +04:00 [DBG] Request did not match any endpoints
2023-04-12 12:36:31.980 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7195/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 115.6065ms
2023-04-12 12:36:33.675 +04:00 [DBG] Connection id "0HMPR6422RAIA" received FIN.
2023-04-12 12:36:33.677 +04:00 [DBG] The connection queue processing loop for 0HMPR6422RAIA completed.
2023-04-12 12:36:33.679 +04:00 [DBG] Connection id "0HMPR6422RAIA" is closed. The last processed stream ID was 7.
2023-04-12 12:36:33.680 +04:00 [DBG] Connection id "0HMPR6422RAIA" sending FIN because: "The client closed the connection."
2023-04-12 12:36:33.690 +04:00 [DBG] Connection id "0HMPR6422RAIA" stopped.
2023-04-12 12:36:42.839 +04:00 [DBG] Connection id "0HMPR6422RAIB" accepted.
2023-04-12 12:36:42.841 +04:00 [DBG] Connection id "0HMPR6422RAIB" started.
2023-04-12 12:36:42.847 +04:00 [DBG] Connection 0HMPR6422RAIB established using the following protocol: "Tls12"
2023-04-12 12:36:42.849 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7195/User/login - -
2023-04-12 12:36:42.852 +04:00 [DBG] 1 candidate(s) found for the request path '/User/login'
2023-04-12 12:36:42.854 +04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2023-04-12 12:36:42.856 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:36:42.858 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:36:42.860 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:36:42.861 +04:00 [DBG] The request is a preflight request.
2023-04-12 12:36:42.863 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7195/User/login - - - 204 - - 13.5390ms
2023-04-12 12:36:42.864 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7195/User/login application/json 58
2023-04-12 12:36:42.868 +04:00 [DBG] 1 candidate(s) found for the request path '/User/login'
2023-04-12 12:36:42.871 +04:00 [DBG] Endpoint 'BankSystem.InternetBank.Api.Controllers.UserController.LoginAsync (BankSystem.InternetBank.Api)' with route pattern 'User/login' is valid for the request path '/User/login'
2023-04-12 12:36:42.873 +04:00 [DBG] Request matched endpoint 'BankSystem.InternetBank.Api.Controllers.UserController.LoginAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:36:42.875 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:36:42.876 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:36:42.877 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:36:42.888 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-04-12 12:36:42.910 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-04-12 12:36:42.912 +04:00 [INF] Executing endpoint 'BankSystem.InternetBank.Api.Controllers.UserController.LoginAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:36:42.933 +04:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(BankSystem.InternetBank.Models.Requests.LoginRequest) on controller BankSystem.InternetBank.Api.Controllers.UserController (BankSystem.InternetBank.Api).
2023-04-12 12:36:42.937 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-04-12 12:36:42.938 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-04-12 12:36:42.940 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-04-12 12:36:42.943 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-04-12 12:36:42.944 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-04-12 12:36:42.947 +04:00 [DBG] Executing controller factory for controller BankSystem.InternetBank.Api.Controllers.UserController (BankSystem.InternetBank.Api)
2023-04-12 12:36:43.043 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-04-12 12:36:43.071 +04:00 [DBG] Executed controller factory for controller BankSystem.InternetBank.Api.Controllers.UserController (BankSystem.InternetBank.Api)
2023-04-12 12:36:43.079 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.LoginRequest' ...
2023-04-12 12:36:43.082 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.LoginRequest' using the name '' in request data ...
2023-04-12 12:36:43.084 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-04-12 12:36:43.089 +04:00 [DBG] Connection id "0HMPR6422RAIB", Request id "0HMPR6422RAIB:00000003": started reading request body.
2023-04-12 12:36:43.091 +04:00 [DBG] Connection id "0HMPR6422RAIB", Request id "0HMPR6422RAIB:00000003": done reading request body.
2023-04-12 12:36:43.096 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BankSystem.InternetBank.Models.Requests.LoginRequest'
2023-04-12 12:36:43.098 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.LoginRequest'.
2023-04-12 12:36:43.100 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.LoginRequest'.
2023-04-12 12:36:43.102 +04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.LoginRequest' ...
2023-04-12 12:36:43.113 +04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.LoginRequest'.
2023-04-12 12:36:43.525 +04:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-04-12 12:36:43.527 +04:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<Guid>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-04-12 12:36:43.860 +04:00 [DBG] Entity Framework Core 7.0.3 initialized 'BankSystemDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.3' with options: None
2023-04-12 12:36:43.945 +04:00 [DBG] Compiling query expression: 
'DbSet<UserEntity>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-04-12 12:36:44.097 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserEntity>(
    asyncEnumerable: new SingleQueryingEnumerable<UserEntity>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserEntity.AccessFailedCount (int) Required, 1], [Property: UserEntity.BirthDate (DateTime) Required, 2], [Property: UserEntity.ConcurrencyStamp (string) Concurrency, 3], [Property: UserEntity.Email (string) MaxLength(256), 4], [Property: UserEntity.EmailConfirmed (bool) Required, 5], [Property: UserEntity.FirstName (string), 6], [Property: UserEntity.LastName (string), 7], [Property: UserEntity.LockoutEnabled (bool) Required, 8], [Property: UserEntity.LockoutEnd (DateTimeOffset?), 9], [Property: UserEntity.NormalizedEmail (string) Index MaxLength(256), 10], [Property: UserEntity.NormalizedUserName (string) Index MaxLength(256), 11], [Property: UserEntity.PasswordHash (string), 12], [Property: UserEntity.PersonalNumber (string), 13], [Property: UserEntity.PhoneNumber (string), 14], [Property: UserEntity.PhoneNumberConfirmed (bool) Required, 15], [Property: UserEntity.RegisteredAt (DateTime) Required, 16], [Property: UserEntity.SecurityStamp (string), 17], [Property: UserEntity.TwoFactorEnabled (bool) Required, 18], [Property: UserEntity.UserName (string) MaxLength(256), 19] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.BirthDate, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PersonalNumber, a.PhoneNumber, a.PhoneNumberConfirmed, a.RegisteredAt, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserEntity>, 
        BankSystem.Common.Db.BankSystemDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-04-12 12:36:44.135 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-04-12 12:36:44.137 +04:00 [DBG] Creating DbConnection.
2023-04-12 12:36:44.167 +04:00 [DBG] Created DbConnection. (27ms).
2023-04-12 12:36:44.173 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (38ms).
2023-04-12 12:36:44.182 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (48ms).
2023-04-12 12:36:44.187 +04:00 [DBG] Opening connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:36:44.325 +04:00 [DBG] Opened connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:36:44.335 +04:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonalNumber], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegisteredAt], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-04-12 12:36:44.378 +04:00 [INF] Executed DbCommand (46ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonalNumber], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegisteredAt], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-04-12 12:36:44.417 +04:00 [DBG] Context 'BankSystemDbContext' started tracking 'UserEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-04-12 12:36:44.471 +04:00 [DBG] Closing data reader to 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:36:44.478 +04:00 [DBG] A data reader for 'BankSystem' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 93ms reading results.
2023-04-12 12:36:44.483 +04:00 [DBG] Closing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:36:44.488 +04:00 [DBG] Closed connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB' (5ms).
2023-04-12 12:36:44.578 +04:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .Join(
        inner: DbSet<IdentityRole<Guid>>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-04-12 12:36:44.612 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    BankSystem.Common.Db.BankSystemDbContext, 
    False, 
    False, 
    True
)'
2023-04-12 12:36:44.617 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-04-12 12:36:44.619 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-04-12 12:36:44.620 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-04-12 12:36:44.621 +04:00 [DBG] Opening connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:36:44.623 +04:00 [DBG] Opened connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:36:44.625 +04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-04-12 12:36:44.643 +04:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-04-12 12:36:44.647 +04:00 [DBG] Closing data reader to 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:36:44.648 +04:00 [DBG] A data reader for 'BankSystem' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2023-04-12 12:36:44.650 +04:00 [DBG] Closing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:36:44.651 +04:00 [DBG] Closed connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB' (1ms).
2023-04-12 12:36:44.781 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-04-12 12:36:44.786 +04:00 [DBG] No information found on request to perform content negotiation.
2023-04-12 12:36:44.787 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-04-12 12:36:44.788 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-04-12 12:36:44.790 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-04-12 12:36:44.793 +04:00 [INF] Executing OkObjectResult, writing value of type 'BankSystem.Common.Models.HttpResult'.
2023-04-12 12:36:44.810 +04:00 [INF] Executed action BankSystem.InternetBank.Api.Controllers.UserController.LoginAsync (BankSystem.InternetBank.Api) in 1861.3656ms
2023-04-12 12:36:44.813 +04:00 [INF] Executed endpoint 'BankSystem.InternetBank.Api.Controllers.UserController.LoginAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:36:44.819 +04:00 [DBG] 'BankSystemDbContext' disposed.
2023-04-12 12:36:44.826 +04:00 [DBG] Disposing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:36:44.831 +04:00 [DBG] Disposed connection to database '' on server '' (3ms).
2023-04-12 12:36:44.835 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7195/User/login application/json 58 - 200 - application/json;+charset=utf-8 1970.2380ms
2023-04-12 12:36:53.685 +04:00 [DBG] Connection id "0HMPR6422RAIB" received FIN.
2023-04-12 12:36:53.686 +04:00 [DBG] Connection id "0HMPR6422RAIB" sending FIN because: "The client closed the connection."
2023-04-12 12:36:53.686 +04:00 [DBG] Connection id "0HMPR6422RAIB" is closed. The last processed stream ID was 3.
2023-04-12 12:36:53.689 +04:00 [DBG] The connection queue processing loop for 0HMPR6422RAIB completed.
2023-04-12 12:36:53.690 +04:00 [DBG] Connection id "0HMPR6422RAIB" stopped.
2023-04-12 12:37:16.646 +04:00 [DBG] Connection id "0HMPR6422RAIC" accepted.
2023-04-12 12:37:16.648 +04:00 [DBG] Connection id "0HMPR6422RAIC" started.
2023-04-12 12:37:16.650 +04:00 [DBG] Connection 0HMPR6422RAIC established using the following protocol: "Tls12"
2023-04-12 12:37:16.652 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7195/Operator/register-user - -
2023-04-12 12:37:16.653 +04:00 [DBG] 1 candidate(s) found for the request path '/Operator/register-user'
2023-04-12 12:37:16.654 +04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2023-04-12 12:37:16.655 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:37:16.656 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:37:16.657 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:37:16.658 +04:00 [DBG] The request is a preflight request.
2023-04-12 12:37:16.659 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7195/Operator/register-user - - - 204 - - 7.3216ms
2023-04-12 12:37:16.660 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7195/Operator/register-user application/json 143
2023-04-12 12:37:16.662 +04:00 [DBG] 1 candidate(s) found for the request path '/Operator/register-user'
2023-04-12 12:37:16.663 +04:00 [DBG] Endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterUserAsync (BankSystem.InternetBank.Api)' with route pattern 'Operator/register-user' is valid for the request path '/Operator/register-user'
2023-04-12 12:37:16.665 +04:00 [DBG] Request matched endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterUserAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:16.667 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:37:16.667 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:37:16.668 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:37:16.672 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-04-12 12:37:16.710 +04:00 [DBG] Successfully validated the token.
2023-04-12 12:37:16.712 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-04-12 12:37:16.717 +04:00 [DBG] Authorization was successful.
2023-04-12 12:37:16.718 +04:00 [INF] Executing endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterUserAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:16.724 +04:00 [INF] Route matched with {action = "RegisterUser", controller = "Operator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUserAsync(BankSystem.InternetBank.Models.Requests.RegisterUserRequest) on controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api).
2023-04-12 12:37:16.726 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-04-12 12:37:16.728 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-04-12 12:37:16.729 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-04-12 12:37:16.731 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-04-12 12:37:16.732 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-04-12 12:37:16.734 +04:00 [DBG] Executing controller factory for controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api)
2023-04-12 12:37:16.738 +04:00 [DBG] Executed controller factory for controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api)
2023-04-12 12:37:16.740 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterUserRequest' ...
2023-04-12 12:37:16.742 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterUserRequest' using the name '' in request data ...
2023-04-12 12:37:16.744 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-04-12 12:37:16.749 +04:00 [DBG] Connection id "0HMPR6422RAIC", Request id "0HMPR6422RAIC:00000003": started reading request body.
2023-04-12 12:37:16.751 +04:00 [DBG] Connection id "0HMPR6422RAIC", Request id "0HMPR6422RAIC:00000003": done reading request body.
2023-04-12 12:37:16.755 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BankSystem.InternetBank.Models.Requests.RegisterUserRequest'
2023-04-12 12:37:16.757 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterUserRequest'.
2023-04-12 12:37:16.758 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterUserRequest'.
2023-04-12 12:37:16.759 +04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterUserRequest' ...
2023-04-12 12:37:16.764 +04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterUserRequest'.
2023-04-12 12:37:16.817 +04:00 [DBG] Entity Framework Core 7.0.3 initialized 'BankSystemDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.3' with options: None
2023-04-12 12:37:16.822 +04:00 [DBG] Compiling query expression: 
'DbSet<UserEntity>()
    .Any(u => u.PersonalNumber == __personalNumber_0)'
2023-04-12 12:37:16.831 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a
            WHERE a.PersonalNumber == @__personalNumber_0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    BankSystem.Common.Db.BankSystemDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-04-12 12:37:16.841 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-04-12 12:37:16.842 +04:00 [DBG] Creating DbConnection.
2023-04-12 12:37:16.844 +04:00 [DBG] Created DbConnection. (1ms).
2023-04-12 12:37:16.845 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-04-12 12:37:16.846 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2023-04-12 12:37:16.848 +04:00 [DBG] Opening connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:16.850 +04:00 [DBG] Opened connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:16.853 +04:00 [DBG] Executing DbCommand [Parameters=[@__personalNumber_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[PersonalNumber] = @__personalNumber_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-04-12 12:37:16.862 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__personalNumber_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[PersonalNumber] = @__personalNumber_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-04-12 12:37:16.866 +04:00 [DBG] Closing data reader to 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:16.867 +04:00 [DBG] A data reader for 'BankSystem' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2023-04-12 12:37:16.870 +04:00 [DBG] Closing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:16.872 +04:00 [DBG] Closed connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB' (1ms).
2023-04-12 12:37:16.874 +04:00 [DBG] Compiling query expression: 
'DbSet<UserEntity>()
    .Any(u => u.Email == __email_0)'
2023-04-12 12:37:16.878 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a
            WHERE a.Email == @__email_0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    BankSystem.Common.Db.BankSystemDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-04-12 12:37:16.880 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-04-12 12:37:16.881 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-04-12 12:37:16.882 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-04-12 12:37:16.884 +04:00 [DBG] Opening connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:16.885 +04:00 [DBG] Opened connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:16.886 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-04-12 12:37:16.890 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-04-12 12:37:16.893 +04:00 [DBG] Closing data reader to 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:16.894 +04:00 [DBG] A data reader for 'BankSystem' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2023-04-12 12:37:16.896 +04:00 [DBG] Closing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:16.897 +04:00 [DBG] Closed connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB' (1ms).
2023-04-12 12:37:16.900 +04:00 [INF] Executed action BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterUserAsync (BankSystem.InternetBank.Api) in 166.0551ms
2023-04-12 12:37:16.903 +04:00 [INF] Executed endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterUserAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:16.932 +04:00 [ERR] Value cannot be null. (Parameter 'Password')
System.ArgumentNullException: Value cannot be null. (Parameter 'Password')
   at BankSystem.InternetBank.Validations.RegisterUserValidator.Validate(RegisterUserRequest request) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank\Validations\RegisterUserValidator.cs:line 80
   at BankSystem.InternetBank.Services.AddUserService.AddUserAsync(RegisterUserRequest request) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank\Services\AddUserService.cs:line 32
   at BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterUserAsync(RegisterUserRequest request) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank.Api\Controllers\OperatorController.cs:line 39
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at InternetBank.Api.Middlewares.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext, RequestDelegate next) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank.Api\Middlewares\GlobalExceptionHandlingMiddleware.cs:line 47
2023-04-12 12:37:17.012 +04:00 [DBG] 'BankSystemDbContext' disposed.
2023-04-12 12:37:17.014 +04:00 [DBG] Disposing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:17.015 +04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-04-12 12:37:17.016 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7195/Operator/register-user application/json 143 - 1 - application/json 355.8810ms
2023-04-12 12:37:22.072 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7195/Operator/register-user - -
2023-04-12 12:37:22.073 +04:00 [DBG] 1 candidate(s) found for the request path '/Operator/register-user'
2023-04-12 12:37:22.075 +04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2023-04-12 12:37:22.076 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:37:22.077 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:37:22.078 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:37:22.078 +04:00 [DBG] The request is a preflight request.
2023-04-12 12:37:22.079 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7195/Operator/register-user - - - 204 - - 7.0558ms
2023-04-12 12:37:22.080 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7195/Operator/register-user application/json 151
2023-04-12 12:37:22.081 +04:00 [DBG] 1 candidate(s) found for the request path '/Operator/register-user'
2023-04-12 12:37:22.082 +04:00 [DBG] Endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterUserAsync (BankSystem.InternetBank.Api)' with route pattern 'Operator/register-user' is valid for the request path '/Operator/register-user'
2023-04-12 12:37:22.084 +04:00 [DBG] Request matched endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterUserAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:22.085 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:37:22.086 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:37:22.086 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:37:22.099 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-04-12 12:37:22.102 +04:00 [DBG] Successfully validated the token.
2023-04-12 12:37:22.103 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-04-12 12:37:22.105 +04:00 [DBG] Authorization was successful.
2023-04-12 12:37:22.106 +04:00 [INF] Executing endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterUserAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:22.107 +04:00 [INF] Route matched with {action = "RegisterUser", controller = "Operator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUserAsync(BankSystem.InternetBank.Models.Requests.RegisterUserRequest) on controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api).
2023-04-12 12:37:22.109 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-04-12 12:37:22.110 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-04-12 12:37:22.112 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-04-12 12:37:22.114 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-04-12 12:37:22.115 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-04-12 12:37:22.116 +04:00 [DBG] Executing controller factory for controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api)
2023-04-12 12:37:22.119 +04:00 [DBG] Executed controller factory for controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api)
2023-04-12 12:37:22.120 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterUserRequest' ...
2023-04-12 12:37:22.121 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterUserRequest' using the name '' in request data ...
2023-04-12 12:37:22.123 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-04-12 12:37:22.125 +04:00 [DBG] Connection id "0HMPR6422RAIC", Request id "0HMPR6422RAIC:00000007": started reading request body.
2023-04-12 12:37:22.126 +04:00 [DBG] Connection id "0HMPR6422RAIC", Request id "0HMPR6422RAIC:00000007": done reading request body.
2023-04-12 12:37:22.128 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BankSystem.InternetBank.Models.Requests.RegisterUserRequest'
2023-04-12 12:37:22.128 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterUserRequest'.
2023-04-12 12:37:22.130 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterUserRequest'.
2023-04-12 12:37:22.131 +04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterUserRequest' ...
2023-04-12 12:37:22.133 +04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterUserRequest'.
2023-04-12 12:37:22.144 +04:00 [DBG] Entity Framework Core 7.0.3 initialized 'BankSystemDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.3' with options: None
2023-04-12 12:37:22.148 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-04-12 12:37:22.149 +04:00 [DBG] Creating DbConnection.
2023-04-12 12:37:22.150 +04:00 [DBG] Created DbConnection. (0ms).
2023-04-12 12:37:22.151 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-04-12 12:37:22.152 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-04-12 12:37:22.153 +04:00 [DBG] Opening connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:22.154 +04:00 [DBG] Opened connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:22.155 +04:00 [DBG] Executing DbCommand [Parameters=[@__personalNumber_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[PersonalNumber] = @__personalNumber_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-04-12 12:37:22.160 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__personalNumber_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[PersonalNumber] = @__personalNumber_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-04-12 12:37:22.163 +04:00 [DBG] Closing data reader to 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:22.164 +04:00 [DBG] A data reader for 'BankSystem' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2023-04-12 12:37:22.165 +04:00 [DBG] Closing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:22.166 +04:00 [DBG] Closed connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-04-12 12:37:22.168 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-04-12 12:37:22.168 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-04-12 12:37:22.169 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-04-12 12:37:22.171 +04:00 [DBG] Opening connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:22.172 +04:00 [DBG] Opened connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:22.173 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-04-12 12:37:22.177 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-04-12 12:37:22.180 +04:00 [DBG] Closing data reader to 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:22.181 +04:00 [DBG] A data reader for 'BankSystem' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2023-04-12 12:37:22.183 +04:00 [DBG] Closing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:22.184 +04:00 [DBG] Closed connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-04-12 12:37:22.275 +04:00 [DBG] Compiling query expression: 
'DbSet<UserEntity>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2023-04-12 12:37:22.281 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserEntity>(
    asyncEnumerable: new SingleQueryingEnumerable<UserEntity>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserEntity.AccessFailedCount (int) Required, 1], [Property: UserEntity.BirthDate (DateTime) Required, 2], [Property: UserEntity.ConcurrencyStamp (string) Concurrency, 3], [Property: UserEntity.Email (string) MaxLength(256), 4], [Property: UserEntity.EmailConfirmed (bool) Required, 5], [Property: UserEntity.FirstName (string), 6], [Property: UserEntity.LastName (string), 7], [Property: UserEntity.LockoutEnabled (bool) Required, 8], [Property: UserEntity.LockoutEnd (DateTimeOffset?), 9], [Property: UserEntity.NormalizedEmail (string) Index MaxLength(256), 10], [Property: UserEntity.NormalizedUserName (string) Index MaxLength(256), 11], [Property: UserEntity.PasswordHash (string), 12], [Property: UserEntity.PersonalNumber (string), 13], [Property: UserEntity.PhoneNumber (string), 14], [Property: UserEntity.PhoneNumberConfirmed (bool) Required, 15], [Property: UserEntity.RegisteredAt (DateTime) Required, 16], [Property: UserEntity.SecurityStamp (string), 17], [Property: UserEntity.TwoFactorEnabled (bool) Required, 18], [Property: UserEntity.UserName (string) MaxLength(256), 19] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.BirthDate, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PersonalNumber, a.PhoneNumber, a.PhoneNumberConfirmed, a.RegisteredAt, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserEntity>, 
        BankSystem.Common.Db.BankSystemDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-04-12 12:37:22.287 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-04-12 12:37:22.288 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-04-12 12:37:22.289 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-04-12 12:37:22.290 +04:00 [DBG] Opening connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:22.291 +04:00 [DBG] Opened connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:22.293 +04:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonalNumber], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegisteredAt], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-04-12 12:37:22.297 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonalNumber], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegisteredAt], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-04-12 12:37:22.302 +04:00 [DBG] Closing data reader to 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:22.303 +04:00 [DBG] A data reader for 'BankSystem' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2023-04-12 12:37:22.304 +04:00 [DBG] Closing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:22.305 +04:00 [DBG] Closed connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-04-12 12:37:22.328 +04:00 [DBG] 'BankSystemDbContext' generated a value for the property 'Id.UserEntity'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-04-12 12:37:22.338 +04:00 [DBG] Context 'BankSystemDbContext' started tracking 'UserEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-04-12 12:37:22.344 +04:00 [DBG] SaveChanges starting for 'BankSystemDbContext'.
2023-04-12 12:37:22.347 +04:00 [DBG] DetectChanges starting for 'BankSystemDbContext'.
2023-04-12 12:37:22.363 +04:00 [DBG] DetectChanges completed for 'BankSystemDbContext'.
2023-04-12 12:37:22.416 +04:00 [DBG] Opening connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:22.418 +04:00 [DBG] Opened connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:22.421 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-04-12 12:37:22.422 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-04-12 12:37:22.424 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-04-12 12:37:22.425 +04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [BirthDate], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PersonalNumber], [PhoneNumber], [PhoneNumberConfirmed], [RegisteredAt], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);
2023-04-12 12:37:22.434 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [BirthDate], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PersonalNumber], [PhoneNumber], [PhoneNumberConfirmed], [RegisteredAt], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);
2023-04-12 12:37:22.439 +04:00 [DBG] Closing data reader to 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:22.441 +04:00 [DBG] A data reader for 'BankSystem' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2023-04-12 12:37:22.443 +04:00 [DBG] Closing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:22.445 +04:00 [DBG] Closed connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB' (1ms).
2023-04-12 12:37:22.452 +04:00 [DBG] An entity of type 'UserEntity' tracked by 'BankSystemDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-04-12 12:37:22.456 +04:00 [DBG] SaveChanges completed for 'BankSystemDbContext' with 1 entities written to the database.
2023-04-12 12:37:22.464 +04:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole<Guid>>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2023-04-12 12:37:22.470 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<Guid>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<Guid>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<Guid>.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<Guid>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<Guid>.Name (string) MaxLength(256), 2], [Property: IdentityRole<Guid>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<Guid>>, 
        BankSystem.Common.Db.BankSystemDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-04-12 12:37:22.474 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-04-12 12:37:22.475 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-04-12 12:37:22.476 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-04-12 12:37:22.477 +04:00 [DBG] Opening connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:22.478 +04:00 [DBG] Opened connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:22.479 +04:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-04-12 12:37:22.485 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-04-12 12:37:22.495 +04:00 [DBG] Context 'BankSystemDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-04-12 12:37:22.503 +04:00 [DBG] Closing data reader to 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:22.505 +04:00 [DBG] A data reader for 'BankSystem' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 17ms reading results.
2023-04-12 12:37:22.506 +04:00 [DBG] Closing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:22.507 +04:00 [DBG] Closed connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB' (1ms).
2023-04-12 12:37:22.516 +04:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "UserId"), 
        objB: __get_Item_0) && object.Equals(
        objA: EF.Property<object>(e, "RoleId"), 
        objB: __get_Item_1))'
2023-04-12 12:37:22.524 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<Guid>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityUserRole<Guid>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<Guid>.UserId (Guid) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<Guid>.RoleId (Guid) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.UserId, a.RoleId
            FROM AspNetUserRoles AS a
            WHERE (a.UserId == @__get_Item_0) && (a.RoleId == @__get_Item_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityUserRole<Guid>>, 
        BankSystem.Common.Db.BankSystemDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-04-12 12:37:22.529 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-04-12 12:37:22.530 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-04-12 12:37:22.532 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-04-12 12:37:22.533 +04:00 [DBG] Opening connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:22.534 +04:00 [DBG] Opened connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:22.536 +04:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid), @__get_Item_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__get_Item_0 AND [a].[RoleId] = @__get_Item_1
2023-04-12 12:37:22.540 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (DbType = Guid), @__get_Item_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__get_Item_0 AND [a].[RoleId] = @__get_Item_1
2023-04-12 12:37:22.543 +04:00 [DBG] Closing data reader to 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:22.544 +04:00 [DBG] A data reader for 'BankSystem' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2023-04-12 12:37:22.546 +04:00 [DBG] Closing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:22.547 +04:00 [DBG] Closed connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB' (1ms).
2023-04-12 12:37:22.552 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-04-12 12:37:22.553 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-04-12 12:37:22.555 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-04-12 12:37:22.556 +04:00 [DBG] Opening connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:22.557 +04:00 [DBG] Opened connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:22.558 +04:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-04-12 12:37:22.560 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-04-12 12:37:22.563 +04:00 [DBG] Closing data reader to 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:22.565 +04:00 [DBG] A data reader for 'BankSystem' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2023-04-12 12:37:22.566 +04:00 [DBG] Closing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:22.568 +04:00 [DBG] Closed connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB' (1ms).
2023-04-12 12:37:22.576 +04:00 [DBG] Context 'BankSystemDbContext' started tracking 'IdentityUserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-04-12 12:37:22.579 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-04-12 12:37:22.580 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-04-12 12:37:22.581 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-04-12 12:37:22.583 +04:00 [DBG] Opening connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:22.584 +04:00 [DBG] Opened connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:22.585 +04:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonalNumber], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegisteredAt], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-04-12 12:37:22.588 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonalNumber], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegisteredAt], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-04-12 12:37:22.591 +04:00 [DBG] Closing data reader to 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:22.592 +04:00 [DBG] A data reader for 'BankSystem' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2023-04-12 12:37:22.593 +04:00 [DBG] Closing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:22.594 +04:00 [DBG] Closed connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-04-12 12:37:22.600 +04:00 [DBG] An entity of type 'UserEntity' tracked by 'BankSystemDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-04-12 12:37:22.602 +04:00 [DBG] SaveChanges starting for 'BankSystemDbContext'.
2023-04-12 12:37:22.603 +04:00 [DBG] DetectChanges starting for 'BankSystemDbContext'.
2023-04-12 12:37:22.607 +04:00 [DBG] DetectChanges completed for 'BankSystemDbContext'.
2023-04-12 12:37:22.623 +04:00 [DBG] Executing 2 update commands as a batch.
2023-04-12 12:37:22.626 +04:00 [DBG] Opening connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:22.627 +04:00 [DBG] Opened connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:22.629 +04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-04-12 12:37:22.636 +04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-04-12 12:37:22.637 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-04-12 12:37:22.638 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-04-12 12:37:22.640 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-04-12 12:37:22.642 +04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p21='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p22='?' (Size = 4000), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (DbType = DateTime2), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [BirthDate] = @p3, [ConcurrencyStamp] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [FirstName] = @p7, [LastName] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [NormalizedEmail] = @p11, [NormalizedUserName] = @p12, [PasswordHash] = @p13, [PersonalNumber] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [RegisteredAt] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2023-04-12 12:37:22.652 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p21='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p22='?' (Size = 4000), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (DbType = DateTime2), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [BirthDate] = @p3, [ConcurrencyStamp] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [FirstName] = @p7, [LastName] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [NormalizedEmail] = @p11, [NormalizedUserName] = @p12, [PasswordHash] = @p13, [PersonalNumber] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [RegisteredAt] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2023-04-12 12:37:22.658 +04:00 [DBG] Closing data reader to 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:22.660 +04:00 [DBG] A data reader for 'BankSystem' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 4ms reading results.
2023-04-12 12:37:22.665 +04:00 [DBG] Committing transaction.
2023-04-12 12:37:22.669 +04:00 [DBG] Committed transaction.
2023-04-12 12:37:22.672 +04:00 [DBG] Closing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:22.673 +04:00 [DBG] Closed connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB' (1ms).
2023-04-12 12:37:22.677 +04:00 [DBG] Disposing transaction.
2023-04-12 12:37:22.678 +04:00 [DBG] An entity of type 'IdentityUserRole' tracked by 'BankSystemDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-04-12 12:37:22.680 +04:00 [DBG] An entity of type 'UserEntity' tracked by 'BankSystemDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-04-12 12:37:22.682 +04:00 [DBG] SaveChanges completed for 'BankSystemDbContext' with 2 entities written to the database.
2023-04-12 12:37:22.685 +04:00 [DBG] SaveChanges starting for 'BankSystemDbContext'.
2023-04-12 12:37:22.686 +04:00 [DBG] DetectChanges starting for 'BankSystemDbContext'.
2023-04-12 12:37:22.687 +04:00 [DBG] DetectChanges completed for 'BankSystemDbContext'.
2023-04-12 12:37:22.688 +04:00 [DBG] SaveChanges completed for 'BankSystemDbContext' with 0 entities written to the database.
2023-04-12 12:37:22.690 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-04-12 12:37:22.693 +04:00 [DBG] No information found on request to perform content negotiation.
2023-04-12 12:37:22.694 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-04-12 12:37:22.695 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-04-12 12:37:22.696 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-04-12 12:37:22.697 +04:00 [INF] Executing OkObjectResult, writing value of type 'BankSystem.Common.Models.HttpResult'.
2023-04-12 12:37:22.703 +04:00 [INF] Executed action BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterUserAsync (BankSystem.InternetBank.Api) in 586.488ms
2023-04-12 12:37:22.705 +04:00 [INF] Executed endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterUserAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:22.706 +04:00 [DBG] 'BankSystemDbContext' disposed.
2023-04-12 12:37:22.707 +04:00 [DBG] Disposing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:22.709 +04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-04-12 12:37:22.710 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7195/Operator/register-user application/json 151 - 200 - application/json;+charset=utf-8 629.6781ms
2023-04-12 12:37:23.708 +04:00 [DBG] Connection id "0HMPR6422RAIC" received FIN.
2023-04-12 12:37:23.709 +04:00 [DBG] Connection id "0HMPR6422RAIC" is closed. The last processed stream ID was 7.
2023-04-12 12:37:23.709 +04:00 [DBG] The connection queue processing loop for 0HMPR6422RAIC completed.
2023-04-12 12:37:23.711 +04:00 [DBG] Connection id "0HMPR6422RAIC" sending FIN because: "The client closed the connection."
2023-04-12 12:37:23.720 +04:00 [DBG] Connection id "0HMPR6422RAIC" stopped.
2023-04-12 12:37:35.656 +04:00 [DBG] Connection id "0HMPR6422RAID" accepted.
2023-04-12 12:37:35.657 +04:00 [DBG] Connection id "0HMPR6422RAID" started.
2023-04-12 12:37:35.659 +04:00 [DBG] Connection 0HMPR6422RAID established using the following protocol: "Tls12"
2023-04-12 12:37:35.661 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7195/Operator/register-bank-account - -
2023-04-12 12:37:35.662 +04:00 [DBG] 1 candidate(s) found for the request path '/Operator/register-bank-account'
2023-04-12 12:37:35.663 +04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2023-04-12 12:37:35.664 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:37:35.665 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:37:35.666 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:37:35.667 +04:00 [DBG] The request is a preflight request.
2023-04-12 12:37:35.667 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7195/Operator/register-bank-account - - - 204 - - 6.7279ms
2023-04-12 12:37:35.669 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7195/Operator/register-bank-account application/json 55
2023-04-12 12:37:35.670 +04:00 [DBG] 1 candidate(s) found for the request path '/Operator/register-bank-account'
2023-04-12 12:37:35.671 +04:00 [DBG] Endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)' with route pattern 'Operator/register-bank-account' is valid for the request path '/Operator/register-bank-account'
2023-04-12 12:37:35.674 +04:00 [DBG] Request matched endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:35.675 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:37:35.676 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:37:35.677 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:37:35.678 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-04-12 12:37:35.679 +04:00 [DBG] Successfully validated the token.
2023-04-12 12:37:35.680 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-04-12 12:37:35.681 +04:00 [DBG] Authorization was successful.
2023-04-12 12:37:35.682 +04:00 [INF] Executing endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:35.686 +04:00 [INF] Route matched with {action = "RegisterAccount", controller = "Operator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAccountAsync(BankSystem.InternetBank.Models.Requests.RegisterAccountRequest) on controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api).
2023-04-12 12:37:35.689 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-04-12 12:37:35.690 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-04-12 12:37:35.692 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-04-12 12:37:35.694 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-04-12 12:37:35.695 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-04-12 12:37:35.696 +04:00 [DBG] Executing controller factory for controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api)
2023-04-12 12:37:35.707 +04:00 [DBG] Executed controller factory for controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api)
2023-04-12 12:37:35.709 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' ...
2023-04-12 12:37:35.710 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' using the name '' in request data ...
2023-04-12 12:37:35.711 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-04-12 12:37:35.719 +04:00 [DBG] Connection id "0HMPR6422RAID", Request id "0HMPR6422RAID:00000003": started reading request body.
2023-04-12 12:37:35.720 +04:00 [DBG] Connection id "0HMPR6422RAID", Request id "0HMPR6422RAID:00000003": done reading request body.
2023-04-12 12:37:35.725 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'
2023-04-12 12:37:35.726 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:35.727 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:35.728 +04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' ...
2023-04-12 12:37:35.733 +04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:35.805 +04:00 [INF] Executed action BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api) in 109.0506ms
2023-04-12 12:37:35.807 +04:00 [INF] Executed endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:35.809 +04:00 [ERR] Incorrect currency
System.ArgumentException: Incorrect currency
   at BankSystem.InternetBank.Validations.RegisterAccountValidator.Validate(RegisterAccountRequest request) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank\Validations\RegisterAccountValidator.cs:line 32
   at BankSystem.InternetBank.Services.AddAccountService.AddAccountAsync(RegisterAccountRequest request, String iban) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank\Services\AddAccountService.cs:line 28
   at BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync(RegisterAccountRequest request) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank.Api\Controllers\OperatorController.cs:line 51
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at InternetBank.Api.Middlewares.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext, RequestDelegate next) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank.Api\Middlewares\GlobalExceptionHandlingMiddleware.cs:line 47
2023-04-12 12:37:35.818 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7195/Operator/register-bank-account application/json 55 - 1 - application/json 148.6283ms
2023-04-12 12:37:38.584 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7195/Operator/register-bank-account application/json 55
2023-04-12 12:37:38.585 +04:00 [DBG] 1 candidate(s) found for the request path '/Operator/register-bank-account'
2023-04-12 12:37:38.586 +04:00 [DBG] Endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)' with route pattern 'Operator/register-bank-account' is valid for the request path '/Operator/register-bank-account'
2023-04-12 12:37:38.587 +04:00 [DBG] Request matched endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:38.589 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:37:38.590 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:37:38.591 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:37:38.592 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-04-12 12:37:38.594 +04:00 [DBG] Successfully validated the token.
2023-04-12 12:37:38.595 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-04-12 12:37:38.595 +04:00 [DBG] Authorization was successful.
2023-04-12 12:37:38.596 +04:00 [INF] Executing endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:38.598 +04:00 [INF] Route matched with {action = "RegisterAccount", controller = "Operator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAccountAsync(BankSystem.InternetBank.Models.Requests.RegisterAccountRequest) on controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api).
2023-04-12 12:37:38.600 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-04-12 12:37:38.601 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-04-12 12:37:38.602 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-04-12 12:37:38.605 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-04-12 12:37:38.606 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-04-12 12:37:38.608 +04:00 [DBG] Executing controller factory for controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api)
2023-04-12 12:37:38.610 +04:00 [DBG] Executed controller factory for controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api)
2023-04-12 12:37:38.611 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' ...
2023-04-12 12:37:38.613 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' using the name '' in request data ...
2023-04-12 12:37:38.615 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-04-12 12:37:38.616 +04:00 [DBG] Connection id "0HMPR6422RAID", Request id "0HMPR6422RAID:00000005": started reading request body.
2023-04-12 12:37:38.618 +04:00 [DBG] Connection id "0HMPR6422RAID", Request id "0HMPR6422RAID:00000005": done reading request body.
2023-04-12 12:37:38.619 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'
2023-04-12 12:37:38.621 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:38.623 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:38.625 +04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' ...
2023-04-12 12:37:38.626 +04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:38.629 +04:00 [DBG] Entity Framework Core 7.0.3 initialized 'BankSystemDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.3' with options: None
2023-04-12 12:37:38.631 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-04-12 12:37:38.633 +04:00 [DBG] Creating DbConnection.
2023-04-12 12:37:38.633 +04:00 [DBG] Created DbConnection. (0ms).
2023-04-12 12:37:38.634 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-04-12 12:37:38.636 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-04-12 12:37:38.637 +04:00 [DBG] Opening connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:38.638 +04:00 [DBG] Opened connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:38.639 +04:00 [DBG] Executing DbCommand [Parameters=[@__personalNumber_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[PersonalNumber] = @__personalNumber_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-04-12 12:37:38.644 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__personalNumber_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[PersonalNumber] = @__personalNumber_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-04-12 12:37:38.646 +04:00 [DBG] Closing data reader to 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:38.648 +04:00 [DBG] A data reader for 'BankSystem' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2023-04-12 12:37:38.649 +04:00 [DBG] Closing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:38.650 +04:00 [DBG] Closed connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB' (1ms).
2023-04-12 12:37:38.653 +04:00 [DBG] Compiling query expression: 
'DbSet<UserEntity>()
    .FirstOrDefault(u => u.PersonalNumber == __personalId_0)'
2023-04-12 12:37:38.659 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserEntity>(
    asyncEnumerable: new SingleQueryingEnumerable<UserEntity>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserEntity.AccessFailedCount (int) Required, 1], [Property: UserEntity.BirthDate (DateTime) Required, 2], [Property: UserEntity.ConcurrencyStamp (string) Concurrency, 3], [Property: UserEntity.Email (string) MaxLength(256), 4], [Property: UserEntity.EmailConfirmed (bool) Required, 5], [Property: UserEntity.FirstName (string), 6], [Property: UserEntity.LastName (string), 7], [Property: UserEntity.LockoutEnabled (bool) Required, 8], [Property: UserEntity.LockoutEnd (DateTimeOffset?), 9], [Property: UserEntity.NormalizedEmail (string) Index MaxLength(256), 10], [Property: UserEntity.NormalizedUserName (string) Index MaxLength(256), 11], [Property: UserEntity.PasswordHash (string), 12], [Property: UserEntity.PersonalNumber (string), 13], [Property: UserEntity.PhoneNumber (string), 14], [Property: UserEntity.PhoneNumberConfirmed (bool) Required, 15], [Property: UserEntity.RegisteredAt (DateTime) Required, 16], [Property: UserEntity.SecurityStamp (string), 17], [Property: UserEntity.TwoFactorEnabled (bool) Required, 18], [Property: UserEntity.UserName (string) MaxLength(256), 19] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.BirthDate, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PersonalNumber, a.PhoneNumber, a.PhoneNumberConfirmed, a.RegisteredAt, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.PersonalNumber == @__personalId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserEntity>, 
        BankSystem.Common.Db.BankSystemDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-04-12 12:37:38.662 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-04-12 12:37:38.663 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-04-12 12:37:38.665 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-04-12 12:37:38.666 +04:00 [DBG] Opening connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:38.667 +04:00 [DBG] Opened connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:38.668 +04:00 [DBG] Executing DbCommand [Parameters=[@__personalId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonalNumber], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegisteredAt], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[PersonalNumber] = @__personalId_0
2023-04-12 12:37:38.672 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__personalId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonalNumber], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegisteredAt], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[PersonalNumber] = @__personalId_0
2023-04-12 12:37:38.675 +04:00 [DBG] Context 'BankSystemDbContext' started tracking 'UserEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-04-12 12:37:38.676 +04:00 [DBG] Closing data reader to 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:38.677 +04:00 [DBG] A data reader for 'BankSystem' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2023-04-12 12:37:38.679 +04:00 [DBG] Closing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:38.680 +04:00 [DBG] Closed connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB' (1ms).
2023-04-12 12:37:38.709 +04:00 [DBG] The navigation 'AccountEntity.UserEntity' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-04-12 12:37:38.718 +04:00 [DBG] Context 'BankSystemDbContext' started tracking 'AccountEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-04-12 12:37:38.721 +04:00 [DBG] SaveChanges starting for 'BankSystemDbContext'.
2023-04-12 12:37:38.722 +04:00 [DBG] DetectChanges starting for 'BankSystemDbContext'.
2023-04-12 12:37:38.728 +04:00 [DBG] DetectChanges completed for 'BankSystemDbContext'.
2023-04-12 12:37:38.731 +04:00 [DBG] Opening connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:38.733 +04:00 [DBG] Opened connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:38.734 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-04-12 12:37:38.735 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-04-12 12:37:38.738 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-04-12 12:37:38.739 +04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Id], [Amount], [Currency], [Iban], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-04-12 12:37:38.749 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Id], [Amount], [Currency], [Iban], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-04-12 12:37:38.751 +04:00 [DBG] Closing data reader to 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:38.753 +04:00 [DBG] A data reader for 'BankSystem' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2023-04-12 12:37:38.754 +04:00 [DBG] Closing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:38.755 +04:00 [DBG] Closed connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB' (1ms).
2023-04-12 12:37:38.758 +04:00 [DBG] An entity of type 'AccountEntity' tracked by 'BankSystemDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-04-12 12:37:38.760 +04:00 [DBG] SaveChanges completed for 'BankSystemDbContext' with 1 entities written to the database.
2023-04-12 12:37:38.762 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-04-12 12:37:38.765 +04:00 [DBG] No information found on request to perform content negotiation.
2023-04-12 12:37:38.765 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-04-12 12:37:38.766 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-04-12 12:37:38.767 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-04-12 12:37:38.769 +04:00 [INF] Executing OkObjectResult, writing value of type 'BankSystem.Common.Models.HttpResult'.
2023-04-12 12:37:38.773 +04:00 [INF] Executed action BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api) in 164.4212ms
2023-04-12 12:37:38.775 +04:00 [INF] Executed endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:38.776 +04:00 [DBG] 'BankSystemDbContext' disposed.
2023-04-12 12:37:38.777 +04:00 [DBG] Disposing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:38.778 +04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-04-12 12:37:38.780 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7195/Operator/register-bank-account application/json 55 - 200 - application/json;+charset=utf-8 195.8701ms
2023-04-12 12:37:41.584 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7195/Operator/register-bank-account - -
2023-04-12 12:37:41.585 +04:00 [DBG] 1 candidate(s) found for the request path '/Operator/register-bank-account'
2023-04-12 12:37:41.586 +04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2023-04-12 12:37:41.587 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:37:41.588 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:37:41.589 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:37:41.590 +04:00 [DBG] The request is a preflight request.
2023-04-12 12:37:41.591 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7195/Operator/register-bank-account - - - 204 - - 7.2031ms
2023-04-12 12:37:41.593 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7195/Operator/register-bank-account application/json 55
2023-04-12 12:37:41.594 +04:00 [DBG] 1 candidate(s) found for the request path '/Operator/register-bank-account'
2023-04-12 12:37:41.595 +04:00 [DBG] Endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)' with route pattern 'Operator/register-bank-account' is valid for the request path '/Operator/register-bank-account'
2023-04-12 12:37:41.597 +04:00 [DBG] Request matched endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:41.599 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:37:41.600 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:37:41.600 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:37:41.601 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-04-12 12:37:41.603 +04:00 [DBG] Successfully validated the token.
2023-04-12 12:37:41.604 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-04-12 12:37:41.605 +04:00 [DBG] Authorization was successful.
2023-04-12 12:37:41.606 +04:00 [INF] Executing endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:41.607 +04:00 [INF] Route matched with {action = "RegisterAccount", controller = "Operator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAccountAsync(BankSystem.InternetBank.Models.Requests.RegisterAccountRequest) on controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api).
2023-04-12 12:37:41.610 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-04-12 12:37:41.611 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-04-12 12:37:41.612 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-04-12 12:37:41.614 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-04-12 12:37:41.616 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-04-12 12:37:41.618 +04:00 [DBG] Executing controller factory for controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api)
2023-04-12 12:37:41.619 +04:00 [DBG] Executed controller factory for controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api)
2023-04-12 12:37:41.621 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' ...
2023-04-12 12:37:41.622 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' using the name '' in request data ...
2023-04-12 12:37:41.624 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-04-12 12:37:41.626 +04:00 [DBG] Connection id "0HMPR6422RAID", Request id "0HMPR6422RAID:00000009": started reading request body.
2023-04-12 12:37:41.627 +04:00 [DBG] Connection id "0HMPR6422RAID", Request id "0HMPR6422RAID:00000009": done reading request body.
2023-04-12 12:37:41.628 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'
2023-04-12 12:37:41.629 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:41.630 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:41.632 +04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' ...
2023-04-12 12:37:41.634 +04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:41.636 +04:00 [INF] Executed action BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api) in 17.9429ms
2023-04-12 12:37:41.637 +04:00 [INF] Executed endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:41.639 +04:00 [ERR] Incorrect currency
System.ArgumentException: Incorrect currency
   at BankSystem.InternetBank.Validations.RegisterAccountValidator.Validate(RegisterAccountRequest request) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank\Validations\RegisterAccountValidator.cs:line 32
   at BankSystem.InternetBank.Services.AddAccountService.AddAccountAsync(RegisterAccountRequest request, String iban) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank\Services\AddAccountService.cs:line 28
   at BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync(RegisterAccountRequest request) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank.Api\Controllers\OperatorController.cs:line 51
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at InternetBank.Api.Middlewares.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext, RequestDelegate next) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank.Api\Middlewares\GlobalExceptionHandlingMiddleware.cs:line 47
2023-04-12 12:37:41.648 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7195/Operator/register-bank-account application/json 55 - 1 - application/json 54.6650ms
2023-04-12 12:37:43.729 +04:00 [DBG] Connection id "0HMPR6422RAID" received FIN.
2023-04-12 12:37:43.730 +04:00 [DBG] Connection id "0HMPR6422RAID" is closed. The last processed stream ID was 9.
2023-04-12 12:37:43.730 +04:00 [DBG] The connection queue processing loop for 0HMPR6422RAID completed.
2023-04-12 12:37:43.732 +04:00 [DBG] Connection id "0HMPR6422RAID" sending FIN because: "The client closed the connection."
2023-04-12 12:37:43.745 +04:00 [DBG] Connection id "0HMPR6422RAID" stopped.
2023-04-12 12:37:45.145 +04:00 [DBG] Connection id "0HMPR6422RAIE" accepted.
2023-04-12 12:37:45.146 +04:00 [DBG] Connection id "0HMPR6422RAIE" started.
2023-04-12 12:37:45.148 +04:00 [DBG] Connection 0HMPR6422RAIE established using the following protocol: "Tls12"
2023-04-12 12:37:45.149 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7195/Operator/register-bank-account application/json 55
2023-04-12 12:37:45.150 +04:00 [DBG] 1 candidate(s) found for the request path '/Operator/register-bank-account'
2023-04-12 12:37:45.151 +04:00 [DBG] Endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)' with route pattern 'Operator/register-bank-account' is valid for the request path '/Operator/register-bank-account'
2023-04-12 12:37:45.153 +04:00 [DBG] Request matched endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:45.154 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:37:45.155 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:37:45.155 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:37:45.157 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-04-12 12:37:45.158 +04:00 [DBG] Successfully validated the token.
2023-04-12 12:37:45.159 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-04-12 12:37:45.160 +04:00 [DBG] Authorization was successful.
2023-04-12 12:37:45.161 +04:00 [INF] Executing endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:45.162 +04:00 [INF] Route matched with {action = "RegisterAccount", controller = "Operator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAccountAsync(BankSystem.InternetBank.Models.Requests.RegisterAccountRequest) on controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api).
2023-04-12 12:37:45.165 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-04-12 12:37:45.166 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-04-12 12:37:45.167 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-04-12 12:37:45.170 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-04-12 12:37:45.171 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-04-12 12:37:45.173 +04:00 [DBG] Executing controller factory for controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api)
2023-04-12 12:37:45.175 +04:00 [DBG] Executed controller factory for controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api)
2023-04-12 12:37:45.176 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' ...
2023-04-12 12:37:45.178 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' using the name '' in request data ...
2023-04-12 12:37:45.179 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-04-12 12:37:45.181 +04:00 [DBG] Connection id "0HMPR6422RAIE", Request id "0HMPR6422RAIE:00000001": started reading request body.
2023-04-12 12:37:45.182 +04:00 [DBG] Connection id "0HMPR6422RAIE", Request id "0HMPR6422RAIE:00000001": done reading request body.
2023-04-12 12:37:45.184 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'
2023-04-12 12:37:45.185 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:45.186 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:45.187 +04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' ...
2023-04-12 12:37:45.189 +04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:45.191 +04:00 [INF] Executed action BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api) in 17.6255ms
2023-04-12 12:37:45.192 +04:00 [INF] Executed endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:45.193 +04:00 [ERR] Incorrect currency
System.ArgumentException: Incorrect currency
   at BankSystem.InternetBank.Validations.RegisterAccountValidator.Validate(RegisterAccountRequest request) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank\Validations\RegisterAccountValidator.cs:line 32
   at BankSystem.InternetBank.Services.AddAccountService.AddAccountAsync(RegisterAccountRequest request, String iban) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank\Services\AddAccountService.cs:line 28
   at BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync(RegisterAccountRequest request) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank.Api\Controllers\OperatorController.cs:line 51
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at InternetBank.Api.Middlewares.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext, RequestDelegate next) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank.Api\Middlewares\GlobalExceptionHandlingMiddleware.cs:line 47
2023-04-12 12:37:45.201 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7195/Operator/register-bank-account application/json 55 - 1 - application/json 51.8532ms
2023-04-12 12:37:46.319 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7195/Operator/register-bank-account application/json 55
2023-04-12 12:37:46.320 +04:00 [DBG] 1 candidate(s) found for the request path '/Operator/register-bank-account'
2023-04-12 12:37:46.322 +04:00 [DBG] Endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)' with route pattern 'Operator/register-bank-account' is valid for the request path '/Operator/register-bank-account'
2023-04-12 12:37:46.324 +04:00 [DBG] Request matched endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:46.325 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:37:46.325 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:37:46.326 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:37:46.327 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-04-12 12:37:46.328 +04:00 [DBG] Successfully validated the token.
2023-04-12 12:37:46.329 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-04-12 12:37:46.330 +04:00 [DBG] Authorization was successful.
2023-04-12 12:37:46.331 +04:00 [INF] Executing endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:46.333 +04:00 [INF] Route matched with {action = "RegisterAccount", controller = "Operator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAccountAsync(BankSystem.InternetBank.Models.Requests.RegisterAccountRequest) on controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api).
2023-04-12 12:37:46.335 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-04-12 12:37:46.336 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-04-12 12:37:46.337 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-04-12 12:37:46.339 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-04-12 12:37:46.340 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-04-12 12:37:46.342 +04:00 [DBG] Executing controller factory for controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api)
2023-04-12 12:37:46.343 +04:00 [DBG] Executed controller factory for controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api)
2023-04-12 12:37:46.345 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' ...
2023-04-12 12:37:46.346 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' using the name '' in request data ...
2023-04-12 12:37:46.347 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-04-12 12:37:46.349 +04:00 [DBG] Connection id "0HMPR6422RAIE", Request id "0HMPR6422RAIE:00000003": started reading request body.
2023-04-12 12:37:46.350 +04:00 [DBG] Connection id "0HMPR6422RAIE", Request id "0HMPR6422RAIE:00000003": done reading request body.
2023-04-12 12:37:46.351 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'
2023-04-12 12:37:46.352 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:46.354 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:46.355 +04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' ...
2023-04-12 12:37:46.356 +04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:46.358 +04:00 [INF] Executed action BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api) in 16.1872ms
2023-04-12 12:37:46.359 +04:00 [INF] Executed endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:46.360 +04:00 [ERR] Incorrect currency
System.ArgumentException: Incorrect currency
   at BankSystem.InternetBank.Validations.RegisterAccountValidator.Validate(RegisterAccountRequest request) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank\Validations\RegisterAccountValidator.cs:line 32
   at BankSystem.InternetBank.Services.AddAccountService.AddAccountAsync(RegisterAccountRequest request, String iban) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank\Services\AddAccountService.cs:line 28
   at BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync(RegisterAccountRequest request) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank.Api\Controllers\OperatorController.cs:line 51
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at InternetBank.Api.Middlewares.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext, RequestDelegate next) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank.Api\Middlewares\GlobalExceptionHandlingMiddleware.cs:line 47
2023-04-12 12:37:46.370 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7195/Operator/register-bank-account application/json 55 - 1 - application/json 50.0977ms
2023-04-12 12:37:46.474 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7195/Operator/register-bank-account application/json 55
2023-04-12 12:37:46.475 +04:00 [DBG] 1 candidate(s) found for the request path '/Operator/register-bank-account'
2023-04-12 12:37:46.477 +04:00 [DBG] Endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)' with route pattern 'Operator/register-bank-account' is valid for the request path '/Operator/register-bank-account'
2023-04-12 12:37:46.479 +04:00 [DBG] Request matched endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:46.481 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:37:46.482 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:37:46.484 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:37:46.485 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-04-12 12:37:46.486 +04:00 [DBG] Successfully validated the token.
2023-04-12 12:37:46.487 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-04-12 12:37:46.488 +04:00 [DBG] Authorization was successful.
2023-04-12 12:37:46.489 +04:00 [INF] Executing endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:46.491 +04:00 [INF] Route matched with {action = "RegisterAccount", controller = "Operator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAccountAsync(BankSystem.InternetBank.Models.Requests.RegisterAccountRequest) on controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api).
2023-04-12 12:37:46.493 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-04-12 12:37:46.495 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-04-12 12:37:46.497 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-04-12 12:37:46.499 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-04-12 12:37:46.501 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-04-12 12:37:46.503 +04:00 [DBG] Executing controller factory for controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api)
2023-04-12 12:37:46.505 +04:00 [DBG] Executed controller factory for controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api)
2023-04-12 12:37:46.507 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' ...
2023-04-12 12:37:46.508 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' using the name '' in request data ...
2023-04-12 12:37:46.510 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-04-12 12:37:46.511 +04:00 [DBG] Connection id "0HMPR6422RAIE", Request id "0HMPR6422RAIE:00000005": started reading request body.
2023-04-12 12:37:46.512 +04:00 [DBG] Connection id "0HMPR6422RAIE", Request id "0HMPR6422RAIE:00000005": done reading request body.
2023-04-12 12:37:46.514 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'
2023-04-12 12:37:46.515 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:46.516 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:46.518 +04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' ...
2023-04-12 12:37:46.520 +04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:46.521 +04:00 [INF] Executed action BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api) in 18.6781ms
2023-04-12 12:37:46.523 +04:00 [INF] Executed endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:46.524 +04:00 [ERR] Incorrect currency
System.ArgumentException: Incorrect currency
   at BankSystem.InternetBank.Validations.RegisterAccountValidator.Validate(RegisterAccountRequest request) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank\Validations\RegisterAccountValidator.cs:line 32
   at BankSystem.InternetBank.Services.AddAccountService.AddAccountAsync(RegisterAccountRequest request, String iban) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank\Services\AddAccountService.cs:line 28
   at BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync(RegisterAccountRequest request) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank.Api\Controllers\OperatorController.cs:line 51
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at InternetBank.Api.Middlewares.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext, RequestDelegate next) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank.Api\Middlewares\GlobalExceptionHandlingMiddleware.cs:line 47
2023-04-12 12:37:46.534 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7195/Operator/register-bank-account application/json 55 - 1 - application/json 60.3030ms
2023-04-12 12:37:46.607 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7195/Operator/register-bank-account - -
2023-04-12 12:37:46.608 +04:00 [DBG] 1 candidate(s) found for the request path '/Operator/register-bank-account'
2023-04-12 12:37:46.609 +04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2023-04-12 12:37:46.610 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:37:46.611 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:37:46.612 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:37:46.613 +04:00 [DBG] The request is a preflight request.
2023-04-12 12:37:46.614 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7195/Operator/register-bank-account - - - 204 - - 6.5812ms
2023-04-12 12:37:46.615 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7195/Operator/register-bank-account application/json 55
2023-04-12 12:37:46.616 +04:00 [DBG] 1 candidate(s) found for the request path '/Operator/register-bank-account'
2023-04-12 12:37:46.617 +04:00 [DBG] Endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)' with route pattern 'Operator/register-bank-account' is valid for the request path '/Operator/register-bank-account'
2023-04-12 12:37:46.618 +04:00 [DBG] Request matched endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:46.620 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:37:46.620 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:37:46.621 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:37:46.622 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-04-12 12:37:46.623 +04:00 [DBG] Successfully validated the token.
2023-04-12 12:37:46.624 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-04-12 12:37:46.625 +04:00 [DBG] Authorization was successful.
2023-04-12 12:37:46.626 +04:00 [INF] Executing endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:46.627 +04:00 [INF] Route matched with {action = "RegisterAccount", controller = "Operator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAccountAsync(BankSystem.InternetBank.Models.Requests.RegisterAccountRequest) on controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api).
2023-04-12 12:37:46.629 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-04-12 12:37:46.630 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-04-12 12:37:46.631 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-04-12 12:37:46.633 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-04-12 12:37:46.635 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-04-12 12:37:46.636 +04:00 [DBG] Executing controller factory for controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api)
2023-04-12 12:37:46.637 +04:00 [DBG] Executed controller factory for controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api)
2023-04-12 12:37:46.639 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' ...
2023-04-12 12:37:46.640 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' using the name '' in request data ...
2023-04-12 12:37:46.642 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-04-12 12:37:46.643 +04:00 [DBG] Connection id "0HMPR6422RAIE", Request id "0HMPR6422RAIE:00000009": started reading request body.
2023-04-12 12:37:46.645 +04:00 [DBG] Connection id "0HMPR6422RAIE", Request id "0HMPR6422RAIE:00000009": done reading request body.
2023-04-12 12:37:46.646 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'
2023-04-12 12:37:46.647 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:46.648 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:46.649 +04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' ...
2023-04-12 12:37:46.650 +04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:46.652 +04:00 [INF] Executed action BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api) in 16.1069ms
2023-04-12 12:37:46.654 +04:00 [INF] Executed endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:46.655 +04:00 [ERR] Incorrect currency
System.ArgumentException: Incorrect currency
   at BankSystem.InternetBank.Validations.RegisterAccountValidator.Validate(RegisterAccountRequest request) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank\Validations\RegisterAccountValidator.cs:line 32
   at BankSystem.InternetBank.Services.AddAccountService.AddAccountAsync(RegisterAccountRequest request, String iban) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank\Services\AddAccountService.cs:line 28
   at BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync(RegisterAccountRequest request) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank.Api\Controllers\OperatorController.cs:line 51
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at InternetBank.Api.Middlewares.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext, RequestDelegate next) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank.Api\Middlewares\GlobalExceptionHandlingMiddleware.cs:line 47
2023-04-12 12:37:46.663 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7195/Operator/register-bank-account application/json 55 - 1 - application/json 47.9006ms
2023-04-12 12:37:46.737 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7195/Operator/register-bank-account application/json 55
2023-04-12 12:37:46.738 +04:00 [DBG] 1 candidate(s) found for the request path '/Operator/register-bank-account'
2023-04-12 12:37:46.738 +04:00 [DBG] Endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)' with route pattern 'Operator/register-bank-account' is valid for the request path '/Operator/register-bank-account'
2023-04-12 12:37:46.740 +04:00 [DBG] Request matched endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:46.742 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:37:46.742 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:37:46.743 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:37:46.744 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-04-12 12:37:46.745 +04:00 [DBG] Successfully validated the token.
2023-04-12 12:37:46.746 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-04-12 12:37:46.747 +04:00 [DBG] Authorization was successful.
2023-04-12 12:37:46.748 +04:00 [INF] Executing endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:46.749 +04:00 [INF] Route matched with {action = "RegisterAccount", controller = "Operator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAccountAsync(BankSystem.InternetBank.Models.Requests.RegisterAccountRequest) on controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api).
2023-04-12 12:37:46.751 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-04-12 12:37:46.752 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-04-12 12:37:46.753 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-04-12 12:37:46.755 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-04-12 12:37:46.756 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-04-12 12:37:46.758 +04:00 [DBG] Executing controller factory for controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api)
2023-04-12 12:37:46.759 +04:00 [DBG] Executed controller factory for controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api)
2023-04-12 12:37:46.760 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' ...
2023-04-12 12:37:46.762 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' using the name '' in request data ...
2023-04-12 12:37:46.763 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-04-12 12:37:46.765 +04:00 [DBG] Connection id "0HMPR6422RAIE", Request id "0HMPR6422RAIE:0000000B": started reading request body.
2023-04-12 12:37:46.766 +04:00 [DBG] Connection id "0HMPR6422RAIE", Request id "0HMPR6422RAIE:0000000B": done reading request body.
2023-04-12 12:37:46.767 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'
2023-04-12 12:37:46.768 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:46.769 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:46.770 +04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' ...
2023-04-12 12:37:46.772 +04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:46.773 +04:00 [INF] Executed action BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api) in 15.4922ms
2023-04-12 12:37:46.774 +04:00 [INF] Executed endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:46.775 +04:00 [ERR] Incorrect currency
System.ArgumentException: Incorrect currency
   at BankSystem.InternetBank.Validations.RegisterAccountValidator.Validate(RegisterAccountRequest request) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank\Validations\RegisterAccountValidator.cs:line 32
   at BankSystem.InternetBank.Services.AddAccountService.AddAccountAsync(RegisterAccountRequest request, String iban) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank\Services\AddAccountService.cs:line 28
   at BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync(RegisterAccountRequest request) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank.Api\Controllers\OperatorController.cs:line 51
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at InternetBank.Api.Middlewares.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext, RequestDelegate next) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank.Api\Middlewares\GlobalExceptionHandlingMiddleware.cs:line 47
2023-04-12 12:37:46.784 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7195/Operator/register-bank-account application/json 55 - 1 - application/json 47.0388ms
2023-04-12 12:37:46.872 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7195/Operator/register-bank-account application/json 55
2023-04-12 12:37:46.873 +04:00 [DBG] 1 candidate(s) found for the request path '/Operator/register-bank-account'
2023-04-12 12:37:46.874 +04:00 [DBG] Endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)' with route pattern 'Operator/register-bank-account' is valid for the request path '/Operator/register-bank-account'
2023-04-12 12:37:46.876 +04:00 [DBG] Request matched endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:46.877 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:37:46.878 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:37:46.879 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:37:46.880 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-04-12 12:37:46.881 +04:00 [DBG] Successfully validated the token.
2023-04-12 12:37:46.882 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-04-12 12:37:46.883 +04:00 [DBG] Authorization was successful.
2023-04-12 12:37:46.884 +04:00 [INF] Executing endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:46.885 +04:00 [INF] Route matched with {action = "RegisterAccount", controller = "Operator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAccountAsync(BankSystem.InternetBank.Models.Requests.RegisterAccountRequest) on controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api).
2023-04-12 12:37:46.887 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-04-12 12:37:46.889 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-04-12 12:37:46.890 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-04-12 12:37:46.892 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-04-12 12:37:46.894 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-04-12 12:37:46.895 +04:00 [DBG] Executing controller factory for controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api)
2023-04-12 12:37:46.897 +04:00 [DBG] Executed controller factory for controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api)
2023-04-12 12:37:46.898 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' ...
2023-04-12 12:37:46.900 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' using the name '' in request data ...
2023-04-12 12:37:46.901 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-04-12 12:37:46.903 +04:00 [DBG] Connection id "0HMPR6422RAIE", Request id "0HMPR6422RAIE:0000000D": started reading request body.
2023-04-12 12:37:46.904 +04:00 [DBG] Connection id "0HMPR6422RAIE", Request id "0HMPR6422RAIE:0000000D": done reading request body.
2023-04-12 12:37:46.905 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'
2023-04-12 12:37:46.906 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:46.908 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:46.909 +04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' ...
2023-04-12 12:37:46.910 +04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:46.912 +04:00 [INF] Executed action BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api) in 16.9372ms
2023-04-12 12:37:46.914 +04:00 [INF] Executed endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:46.915 +04:00 [ERR] Incorrect currency
System.ArgumentException: Incorrect currency
   at BankSystem.InternetBank.Validations.RegisterAccountValidator.Validate(RegisterAccountRequest request) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank\Validations\RegisterAccountValidator.cs:line 32
   at BankSystem.InternetBank.Services.AddAccountService.AddAccountAsync(RegisterAccountRequest request, String iban) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank\Services\AddAccountService.cs:line 28
   at BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync(RegisterAccountRequest request) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank.Api\Controllers\OperatorController.cs:line 51
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at InternetBank.Api.Middlewares.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext, RequestDelegate next) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank.Api\Middlewares\GlobalExceptionHandlingMiddleware.cs:line 47
2023-04-12 12:37:46.923 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7195/Operator/register-bank-account application/json 55 - 1 - application/json 51.3385ms
2023-04-12 12:37:46.991 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7195/Operator/register-bank-account application/json 55
2023-04-12 12:37:46.992 +04:00 [DBG] 1 candidate(s) found for the request path '/Operator/register-bank-account'
2023-04-12 12:37:46.993 +04:00 [DBG] Endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)' with route pattern 'Operator/register-bank-account' is valid for the request path '/Operator/register-bank-account'
2023-04-12 12:37:46.994 +04:00 [DBG] Request matched endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:46.996 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:37:46.996 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:37:46.998 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:37:46.998 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-04-12 12:37:47.000 +04:00 [DBG] Successfully validated the token.
2023-04-12 12:37:47.000 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-04-12 12:37:47.001 +04:00 [DBG] Authorization was successful.
2023-04-12 12:37:47.003 +04:00 [INF] Executing endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:47.004 +04:00 [INF] Route matched with {action = "RegisterAccount", controller = "Operator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAccountAsync(BankSystem.InternetBank.Models.Requests.RegisterAccountRequest) on controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api).
2023-04-12 12:37:47.006 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-04-12 12:37:47.007 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-04-12 12:37:47.008 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-04-12 12:37:47.010 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-04-12 12:37:47.011 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-04-12 12:37:47.013 +04:00 [DBG] Executing controller factory for controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api)
2023-04-12 12:37:47.015 +04:00 [DBG] Executed controller factory for controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api)
2023-04-12 12:37:47.016 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' ...
2023-04-12 12:37:47.017 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' using the name '' in request data ...
2023-04-12 12:37:47.019 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-04-12 12:37:47.020 +04:00 [DBG] Connection id "0HMPR6422RAIE", Request id "0HMPR6422RAIE:0000000F": started reading request body.
2023-04-12 12:37:47.021 +04:00 [DBG] Connection id "0HMPR6422RAIE", Request id "0HMPR6422RAIE:0000000F": done reading request body.
2023-04-12 12:37:47.023 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'
2023-04-12 12:37:47.024 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:47.025 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:47.026 +04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' ...
2023-04-12 12:37:47.028 +04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:47.029 +04:00 [INF] Executed action BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api) in 16.0756ms
2023-04-12 12:37:47.031 +04:00 [INF] Executed endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:47.032 +04:00 [ERR] Incorrect currency
System.ArgumentException: Incorrect currency
   at BankSystem.InternetBank.Validations.RegisterAccountValidator.Validate(RegisterAccountRequest request) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank\Validations\RegisterAccountValidator.cs:line 32
   at BankSystem.InternetBank.Services.AddAccountService.AddAccountAsync(RegisterAccountRequest request, String iban) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank\Services\AddAccountService.cs:line 28
   at BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync(RegisterAccountRequest request) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank.Api\Controllers\OperatorController.cs:line 51
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at InternetBank.Api.Middlewares.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext, RequestDelegate next) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank.Api\Middlewares\GlobalExceptionHandlingMiddleware.cs:line 47
2023-04-12 12:37:47.041 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7195/Operator/register-bank-account application/json 55 - 1 - application/json 50.2070ms
2023-04-12 12:37:47.127 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7195/Operator/register-bank-account application/json 55
2023-04-12 12:37:47.128 +04:00 [DBG] 1 candidate(s) found for the request path '/Operator/register-bank-account'
2023-04-12 12:37:47.129 +04:00 [DBG] Endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)' with route pattern 'Operator/register-bank-account' is valid for the request path '/Operator/register-bank-account'
2023-04-12 12:37:47.131 +04:00 [DBG] Request matched endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:47.133 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:37:47.134 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:37:47.135 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:37:47.135 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-04-12 12:37:47.137 +04:00 [DBG] Successfully validated the token.
2023-04-12 12:37:47.138 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-04-12 12:37:47.139 +04:00 [DBG] Authorization was successful.
2023-04-12 12:37:47.139 +04:00 [INF] Executing endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:47.141 +04:00 [INF] Route matched with {action = "RegisterAccount", controller = "Operator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAccountAsync(BankSystem.InternetBank.Models.Requests.RegisterAccountRequest) on controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api).
2023-04-12 12:37:47.143 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-04-12 12:37:47.145 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-04-12 12:37:47.146 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-04-12 12:37:47.148 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-04-12 12:37:47.149 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-04-12 12:37:47.151 +04:00 [DBG] Executing controller factory for controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api)
2023-04-12 12:37:47.152 +04:00 [DBG] Executed controller factory for controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api)
2023-04-12 12:37:47.154 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' ...
2023-04-12 12:37:47.155 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' using the name '' in request data ...
2023-04-12 12:37:47.157 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-04-12 12:37:47.158 +04:00 [DBG] Connection id "0HMPR6422RAIE", Request id "0HMPR6422RAIE:00000011": started reading request body.
2023-04-12 12:37:47.159 +04:00 [DBG] Connection id "0HMPR6422RAIE", Request id "0HMPR6422RAIE:00000011": done reading request body.
2023-04-12 12:37:47.161 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'
2023-04-12 12:37:47.162 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:47.163 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:47.165 +04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' ...
2023-04-12 12:37:47.166 +04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:47.168 +04:00 [INF] Executed action BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api) in 17.4023ms
2023-04-12 12:37:47.170 +04:00 [INF] Executed endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:47.171 +04:00 [ERR] Incorrect currency
System.ArgumentException: Incorrect currency
   at BankSystem.InternetBank.Validations.RegisterAccountValidator.Validate(RegisterAccountRequest request) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank\Validations\RegisterAccountValidator.cs:line 32
   at BankSystem.InternetBank.Services.AddAccountService.AddAccountAsync(RegisterAccountRequest request, String iban) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank\Services\AddAccountService.cs:line 28
   at BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync(RegisterAccountRequest request) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank.Api\Controllers\OperatorController.cs:line 51
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at InternetBank.Api.Middlewares.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext, RequestDelegate next) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank.Api\Middlewares\GlobalExceptionHandlingMiddleware.cs:line 47
2023-04-12 12:37:47.180 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7195/Operator/register-bank-account application/json 55 - 1 - application/json 52.4124ms
2023-04-12 12:37:47.264 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7195/Operator/register-bank-account application/json 55
2023-04-12 12:37:47.265 +04:00 [DBG] 1 candidate(s) found for the request path '/Operator/register-bank-account'
2023-04-12 12:37:47.266 +04:00 [DBG] Endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)' with route pattern 'Operator/register-bank-account' is valid for the request path '/Operator/register-bank-account'
2023-04-12 12:37:47.268 +04:00 [DBG] Request matched endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:47.269 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:37:47.270 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:37:47.270 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:37:47.271 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-04-12 12:37:47.273 +04:00 [DBG] Successfully validated the token.
2023-04-12 12:37:47.274 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-04-12 12:37:47.275 +04:00 [DBG] Authorization was successful.
2023-04-12 12:37:47.275 +04:00 [INF] Executing endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:47.277 +04:00 [INF] Route matched with {action = "RegisterAccount", controller = "Operator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAccountAsync(BankSystem.InternetBank.Models.Requests.RegisterAccountRequest) on controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api).
2023-04-12 12:37:47.279 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-04-12 12:37:47.280 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-04-12 12:37:47.282 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-04-12 12:37:47.284 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-04-12 12:37:47.285 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-04-12 12:37:47.286 +04:00 [DBG] Executing controller factory for controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api)
2023-04-12 12:37:47.288 +04:00 [DBG] Executed controller factory for controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api)
2023-04-12 12:37:47.289 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' ...
2023-04-12 12:37:47.291 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' using the name '' in request data ...
2023-04-12 12:37:47.292 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-04-12 12:37:47.293 +04:00 [DBG] Connection id "0HMPR6422RAIE", Request id "0HMPR6422RAIE:00000013": started reading request body.
2023-04-12 12:37:47.295 +04:00 [DBG] Connection id "0HMPR6422RAIE", Request id "0HMPR6422RAIE:00000013": done reading request body.
2023-04-12 12:37:47.296 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'
2023-04-12 12:37:47.297 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:47.298 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:47.300 +04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' ...
2023-04-12 12:37:47.301 +04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:47.303 +04:00 [INF] Executed action BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api) in 16.7573ms
2023-04-12 12:37:47.305 +04:00 [INF] Executed endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:47.306 +04:00 [ERR] Incorrect currency
System.ArgumentException: Incorrect currency
   at BankSystem.InternetBank.Validations.RegisterAccountValidator.Validate(RegisterAccountRequest request) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank\Validations\RegisterAccountValidator.cs:line 32
   at BankSystem.InternetBank.Services.AddAccountService.AddAccountAsync(RegisterAccountRequest request, String iban) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank\Services\AddAccountService.cs:line 28
   at BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync(RegisterAccountRequest request) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank.Api\Controllers\OperatorController.cs:line 51
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at InternetBank.Api.Middlewares.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext, RequestDelegate next) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank.Api\Middlewares\GlobalExceptionHandlingMiddleware.cs:line 47
2023-04-12 12:37:47.315 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7195/Operator/register-bank-account application/json 55 - 1 - application/json 50.9612ms
2023-04-12 12:37:47.400 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7195/Operator/register-bank-account application/json 55
2023-04-12 12:37:47.401 +04:00 [DBG] 1 candidate(s) found for the request path '/Operator/register-bank-account'
2023-04-12 12:37:47.402 +04:00 [DBG] Endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)' with route pattern 'Operator/register-bank-account' is valid for the request path '/Operator/register-bank-account'
2023-04-12 12:37:47.403 +04:00 [DBG] Request matched endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:47.404 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:37:47.405 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:37:47.406 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:37:47.407 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-04-12 12:37:47.409 +04:00 [DBG] Successfully validated the token.
2023-04-12 12:37:47.410 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-04-12 12:37:47.411 +04:00 [DBG] Authorization was successful.
2023-04-12 12:37:47.412 +04:00 [INF] Executing endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:47.413 +04:00 [INF] Route matched with {action = "RegisterAccount", controller = "Operator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAccountAsync(BankSystem.InternetBank.Models.Requests.RegisterAccountRequest) on controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api).
2023-04-12 12:37:47.415 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-04-12 12:37:47.417 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-04-12 12:37:47.418 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-04-12 12:37:47.420 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-04-12 12:37:47.422 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-04-12 12:37:47.424 +04:00 [DBG] Executing controller factory for controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api)
2023-04-12 12:37:47.426 +04:00 [DBG] Executed controller factory for controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api)
2023-04-12 12:37:47.428 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' ...
2023-04-12 12:37:47.429 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' using the name '' in request data ...
2023-04-12 12:37:47.431 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-04-12 12:37:47.432 +04:00 [DBG] Connection id "0HMPR6422RAIE", Request id "0HMPR6422RAIE:00000015": started reading request body.
2023-04-12 12:37:47.433 +04:00 [DBG] Connection id "0HMPR6422RAIE", Request id "0HMPR6422RAIE:00000015": done reading request body.
2023-04-12 12:37:47.435 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'
2023-04-12 12:37:47.436 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:47.438 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:47.439 +04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' ...
2023-04-12 12:37:47.441 +04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:47.442 +04:00 [INF] Executed action BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api) in 18.1293ms
2023-04-12 12:37:47.444 +04:00 [INF] Executed endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:47.445 +04:00 [ERR] Incorrect currency
System.ArgumentException: Incorrect currency
   at BankSystem.InternetBank.Validations.RegisterAccountValidator.Validate(RegisterAccountRequest request) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank\Validations\RegisterAccountValidator.cs:line 32
   at BankSystem.InternetBank.Services.AddAccountService.AddAccountAsync(RegisterAccountRequest request, String iban) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank\Services\AddAccountService.cs:line 28
   at BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync(RegisterAccountRequest request) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank.Api\Controllers\OperatorController.cs:line 51
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at InternetBank.Api.Middlewares.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext, RequestDelegate next) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank.Api\Middlewares\GlobalExceptionHandlingMiddleware.cs:line 47
2023-04-12 12:37:47.453 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7195/Operator/register-bank-account application/json 55 - 1 - application/json 53.3471ms
2023-04-12 12:37:47.504 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7195/Operator/register-bank-account application/json 55
2023-04-12 12:37:47.505 +04:00 [DBG] 1 candidate(s) found for the request path '/Operator/register-bank-account'
2023-04-12 12:37:47.506 +04:00 [DBG] Endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)' with route pattern 'Operator/register-bank-account' is valid for the request path '/Operator/register-bank-account'
2023-04-12 12:37:47.507 +04:00 [DBG] Request matched endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:47.508 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:37:47.509 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:37:47.510 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:37:47.510 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-04-12 12:37:47.511 +04:00 [DBG] Successfully validated the token.
2023-04-12 12:37:47.513 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-04-12 12:37:47.514 +04:00 [DBG] Authorization was successful.
2023-04-12 12:37:47.515 +04:00 [INF] Executing endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:47.516 +04:00 [INF] Route matched with {action = "RegisterAccount", controller = "Operator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAccountAsync(BankSystem.InternetBank.Models.Requests.RegisterAccountRequest) on controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api).
2023-04-12 12:37:47.518 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-04-12 12:37:47.519 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-04-12 12:37:47.521 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-04-12 12:37:47.523 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-04-12 12:37:47.524 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-04-12 12:37:47.525 +04:00 [DBG] Executing controller factory for controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api)
2023-04-12 12:37:47.526 +04:00 [DBG] Executed controller factory for controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api)
2023-04-12 12:37:47.527 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' ...
2023-04-12 12:37:47.529 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' using the name '' in request data ...
2023-04-12 12:37:47.530 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-04-12 12:37:47.532 +04:00 [DBG] Connection id "0HMPR6422RAIE", Request id "0HMPR6422RAIE:00000017": started reading request body.
2023-04-12 12:37:47.533 +04:00 [DBG] Connection id "0HMPR6422RAIE", Request id "0HMPR6422RAIE:00000017": done reading request body.
2023-04-12 12:37:47.534 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'
2023-04-12 12:37:47.535 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:47.536 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:47.537 +04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' ...
2023-04-12 12:37:47.538 +04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:47.540 +04:00 [INF] Executed action BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api) in 14.9263ms
2023-04-12 12:37:47.541 +04:00 [INF] Executed endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:47.542 +04:00 [ERR] Incorrect currency
System.ArgumentException: Incorrect currency
   at BankSystem.InternetBank.Validations.RegisterAccountValidator.Validate(RegisterAccountRequest request) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank\Validations\RegisterAccountValidator.cs:line 32
   at BankSystem.InternetBank.Services.AddAccountService.AddAccountAsync(RegisterAccountRequest request, String iban) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank\Services\AddAccountService.cs:line 28
   at BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync(RegisterAccountRequest request) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank.Api\Controllers\OperatorController.cs:line 51
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at InternetBank.Api.Middlewares.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext, RequestDelegate next) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank.Api\Middlewares\GlobalExceptionHandlingMiddleware.cs:line 47
2023-04-12 12:37:47.550 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7195/Operator/register-bank-account application/json 55 - 1 - application/json 45.7925ms
2023-04-12 12:37:47.639 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7195/Operator/register-bank-account application/json 55
2023-04-12 12:37:47.640 +04:00 [DBG] 1 candidate(s) found for the request path '/Operator/register-bank-account'
2023-04-12 12:37:47.641 +04:00 [DBG] Endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)' with route pattern 'Operator/register-bank-account' is valid for the request path '/Operator/register-bank-account'
2023-04-12 12:37:47.643 +04:00 [DBG] Request matched endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:47.644 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:37:47.645 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:37:47.646 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:37:47.646 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-04-12 12:37:47.647 +04:00 [DBG] Successfully validated the token.
2023-04-12 12:37:47.648 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-04-12 12:37:47.649 +04:00 [DBG] Authorization was successful.
2023-04-12 12:37:47.650 +04:00 [INF] Executing endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:47.651 +04:00 [INF] Route matched with {action = "RegisterAccount", controller = "Operator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAccountAsync(BankSystem.InternetBank.Models.Requests.RegisterAccountRequest) on controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api).
2023-04-12 12:37:47.653 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-04-12 12:37:47.654 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-04-12 12:37:47.655 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-04-12 12:37:47.658 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-04-12 12:37:47.659 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-04-12 12:37:47.661 +04:00 [DBG] Executing controller factory for controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api)
2023-04-12 12:37:47.662 +04:00 [DBG] Executed controller factory for controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api)
2023-04-12 12:37:47.664 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' ...
2023-04-12 12:37:47.666 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' using the name '' in request data ...
2023-04-12 12:37:47.667 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-04-12 12:37:47.669 +04:00 [DBG] Connection id "0HMPR6422RAIE", Request id "0HMPR6422RAIE:00000019": started reading request body.
2023-04-12 12:37:47.670 +04:00 [DBG] Connection id "0HMPR6422RAIE", Request id "0HMPR6422RAIE:00000019": done reading request body.
2023-04-12 12:37:47.671 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'
2023-04-12 12:37:47.673 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:47.674 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:47.675 +04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' ...
2023-04-12 12:37:47.676 +04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:47.678 +04:00 [INF] Executed action BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api) in 17.5775ms
2023-04-12 12:37:47.680 +04:00 [INF] Executed endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:47.681 +04:00 [ERR] Incorrect currency
System.ArgumentException: Incorrect currency
   at BankSystem.InternetBank.Validations.RegisterAccountValidator.Validate(RegisterAccountRequest request) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank\Validations\RegisterAccountValidator.cs:line 32
   at BankSystem.InternetBank.Services.AddAccountService.AddAccountAsync(RegisterAccountRequest request, String iban) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank\Services\AddAccountService.cs:line 28
   at BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync(RegisterAccountRequest request) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank.Api\Controllers\OperatorController.cs:line 51
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at InternetBank.Api.Middlewares.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext, RequestDelegate next) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank.Api\Middlewares\GlobalExceptionHandlingMiddleware.cs:line 47
2023-04-12 12:37:47.689 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7195/Operator/register-bank-account application/json 55 - 1 - application/json 50.1668ms
2023-04-12 12:37:47.785 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7195/Operator/register-bank-account application/json 55
2023-04-12 12:37:47.786 +04:00 [DBG] 1 candidate(s) found for the request path '/Operator/register-bank-account'
2023-04-12 12:37:47.787 +04:00 [DBG] Endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)' with route pattern 'Operator/register-bank-account' is valid for the request path '/Operator/register-bank-account'
2023-04-12 12:37:47.789 +04:00 [DBG] Request matched endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:47.791 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:37:47.791 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:37:47.793 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:37:47.794 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-04-12 12:37:47.795 +04:00 [DBG] Successfully validated the token.
2023-04-12 12:37:47.796 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-04-12 12:37:47.797 +04:00 [DBG] Authorization was successful.
2023-04-12 12:37:47.799 +04:00 [INF] Executing endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:47.800 +04:00 [INF] Route matched with {action = "RegisterAccount", controller = "Operator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAccountAsync(BankSystem.InternetBank.Models.Requests.RegisterAccountRequest) on controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api).
2023-04-12 12:37:47.803 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-04-12 12:37:47.805 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-04-12 12:37:47.806 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-04-12 12:37:47.808 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-04-12 12:37:47.810 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-04-12 12:37:47.811 +04:00 [DBG] Executing controller factory for controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api)
2023-04-12 12:37:47.813 +04:00 [DBG] Executed controller factory for controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api)
2023-04-12 12:37:47.815 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' ...
2023-04-12 12:37:47.816 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' using the name '' in request data ...
2023-04-12 12:37:47.818 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-04-12 12:37:47.819 +04:00 [DBG] Connection id "0HMPR6422RAIE", Request id "0HMPR6422RAIE:0000001B": started reading request body.
2023-04-12 12:37:47.820 +04:00 [DBG] Connection id "0HMPR6422RAIE", Request id "0HMPR6422RAIE:0000001B": done reading request body.
2023-04-12 12:37:47.821 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'
2023-04-12 12:37:47.823 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:47.824 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:47.825 +04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' ...
2023-04-12 12:37:47.827 +04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:47.829 +04:00 [INF] Executed action BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api) in 17.6109ms
2023-04-12 12:37:47.831 +04:00 [INF] Executed endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:47.833 +04:00 [ERR] Incorrect currency
System.ArgumentException: Incorrect currency
   at BankSystem.InternetBank.Validations.RegisterAccountValidator.Validate(RegisterAccountRequest request) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank\Validations\RegisterAccountValidator.cs:line 32
   at BankSystem.InternetBank.Services.AddAccountService.AddAccountAsync(RegisterAccountRequest request, String iban) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank\Services\AddAccountService.cs:line 28
   at BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync(RegisterAccountRequest request) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank.Api\Controllers\OperatorController.cs:line 51
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at InternetBank.Api.Middlewares.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext, RequestDelegate next) in C:\Users\srevazishvili\source\repos\BankSystemMain\BankSystemCopy\InternetBank.Api\Middlewares\GlobalExceptionHandlingMiddleware.cs:line 47
2023-04-12 12:37:47.843 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7195/Operator/register-bank-account application/json 55 - 1 - application/json 58.3153ms
2023-04-12 12:37:53.733 +04:00 [DBG] Connection id "0HMPR6422RAIE" received FIN.
2023-04-12 12:37:53.735 +04:00 [DBG] Connection id "0HMPR6422RAIE" is closed. The last processed stream ID was 27.
2023-04-12 12:37:53.735 +04:00 [DBG] The connection queue processing loop for 0HMPR6422RAIE completed.
2023-04-12 12:37:53.736 +04:00 [DBG] Connection id "0HMPR6422RAIE" sending FIN because: "The client closed the connection."
2023-04-12 12:37:53.748 +04:00 [DBG] Connection id "0HMPR6422RAIE" stopped.
2023-04-12 12:37:55.746 +04:00 [DBG] Connection id "0HMPR6422RAIF" accepted.
2023-04-12 12:37:55.748 +04:00 [DBG] Connection id "0HMPR6422RAIF" started.
2023-04-12 12:37:55.750 +04:00 [DBG] Connection 0HMPR6422RAIF established using the following protocol: "Tls12"
2023-04-12 12:37:55.751 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7195/Operator/register-bank-account - -
2023-04-12 12:37:55.752 +04:00 [DBG] 1 candidate(s) found for the request path '/Operator/register-bank-account'
2023-04-12 12:37:55.754 +04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2023-04-12 12:37:55.754 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:37:55.755 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:37:55.757 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:37:55.758 +04:00 [DBG] The request is a preflight request.
2023-04-12 12:37:55.759 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7195/Operator/register-bank-account - - - 204 - - 8.0280ms
2023-04-12 12:37:55.761 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7195/Operator/register-bank-account application/json 55
2023-04-12 12:37:55.762 +04:00 [DBG] 1 candidate(s) found for the request path '/Operator/register-bank-account'
2023-04-12 12:37:55.763 +04:00 [DBG] Endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)' with route pattern 'Operator/register-bank-account' is valid for the request path '/Operator/register-bank-account'
2023-04-12 12:37:55.765 +04:00 [DBG] Request matched endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:55.766 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:37:55.767 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:37:55.768 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:37:55.769 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-04-12 12:37:55.770 +04:00 [DBG] Successfully validated the token.
2023-04-12 12:37:55.771 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-04-12 12:37:55.772 +04:00 [DBG] Authorization was successful.
2023-04-12 12:37:55.773 +04:00 [INF] Executing endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:55.774 +04:00 [INF] Route matched with {action = "RegisterAccount", controller = "Operator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAccountAsync(BankSystem.InternetBank.Models.Requests.RegisterAccountRequest) on controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api).
2023-04-12 12:37:55.777 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-04-12 12:37:55.778 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-04-12 12:37:55.779 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-04-12 12:37:55.781 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-04-12 12:37:55.783 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-04-12 12:37:55.784 +04:00 [DBG] Executing controller factory for controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api)
2023-04-12 12:37:55.786 +04:00 [DBG] Executed controller factory for controller BankSystem.InternetBank.Api.Controllers.OperatorController (BankSystem.InternetBank.Api)
2023-04-12 12:37:55.787 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' ...
2023-04-12 12:37:55.788 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' using the name '' in request data ...
2023-04-12 12:37:55.790 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-04-12 12:37:55.792 +04:00 [DBG] Connection id "0HMPR6422RAIF", Request id "0HMPR6422RAIF:00000003": started reading request body.
2023-04-12 12:37:55.793 +04:00 [DBG] Connection id "0HMPR6422RAIF", Request id "0HMPR6422RAIF:00000003": done reading request body.
2023-04-12 12:37:55.794 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'
2023-04-12 12:37:55.795 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:55.797 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:55.798 +04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest' ...
2023-04-12 12:37:55.799 +04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.RegisterAccountRequest'.
2023-04-12 12:37:55.801 +04:00 [DBG] Entity Framework Core 7.0.3 initialized 'BankSystemDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.3' with options: None
2023-04-12 12:37:55.804 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-04-12 12:37:55.805 +04:00 [DBG] Creating DbConnection.
2023-04-12 12:37:55.805 +04:00 [DBG] Created DbConnection. (0ms).
2023-04-12 12:37:55.807 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-04-12 12:37:55.808 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-04-12 12:37:55.809 +04:00 [DBG] Opening connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:55.810 +04:00 [DBG] Opened connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:55.812 +04:00 [DBG] Executing DbCommand [Parameters=[@__personalNumber_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[PersonalNumber] = @__personalNumber_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-04-12 12:37:55.816 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__personalNumber_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[PersonalNumber] = @__personalNumber_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-04-12 12:37:55.818 +04:00 [DBG] Closing data reader to 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:55.819 +04:00 [DBG] A data reader for 'BankSystem' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2023-04-12 12:37:55.821 +04:00 [DBG] Closing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:55.822 +04:00 [DBG] Closed connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB' (1ms).
2023-04-12 12:37:55.824 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-04-12 12:37:55.825 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-04-12 12:37:55.826 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-04-12 12:37:55.827 +04:00 [DBG] Opening connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:55.828 +04:00 [DBG] Opened connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:55.829 +04:00 [DBG] Executing DbCommand [Parameters=[@__personalId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonalNumber], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegisteredAt], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[PersonalNumber] = @__personalId_0
2023-04-12 12:37:55.834 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__personalId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonalNumber], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegisteredAt], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[PersonalNumber] = @__personalId_0
2023-04-12 12:37:55.837 +04:00 [DBG] Context 'BankSystemDbContext' started tracking 'UserEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-04-12 12:37:55.838 +04:00 [DBG] Closing data reader to 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:55.840 +04:00 [DBG] A data reader for 'BankSystem' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2023-04-12 12:37:55.841 +04:00 [DBG] Closing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:55.843 +04:00 [DBG] Closed connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB' (1ms).
2023-04-12 12:37:55.844 +04:00 [DBG] The navigation 'AccountEntity.UserEntity' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-04-12 12:37:55.846 +04:00 [DBG] Context 'BankSystemDbContext' started tracking 'AccountEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-04-12 12:37:55.847 +04:00 [DBG] SaveChanges starting for 'BankSystemDbContext'.
2023-04-12 12:37:55.848 +04:00 [DBG] DetectChanges starting for 'BankSystemDbContext'.
2023-04-12 12:37:55.849 +04:00 [DBG] DetectChanges completed for 'BankSystemDbContext'.
2023-04-12 12:37:55.850 +04:00 [DBG] Opening connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:55.852 +04:00 [DBG] Opened connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:55.853 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-04-12 12:37:55.854 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-04-12 12:37:55.855 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-04-12 12:37:55.857 +04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Id], [Amount], [Currency], [Iban], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-04-12 12:37:55.862 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Precision = 18) (Scale = 3) (DbType = Decimal), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Id], [Amount], [Currency], [Iban], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-04-12 12:37:55.865 +04:00 [DBG] Closing data reader to 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:55.866 +04:00 [DBG] A data reader for 'BankSystem' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2023-04-12 12:37:55.868 +04:00 [DBG] Closing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:55.869 +04:00 [DBG] Closed connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB' (0ms).
2023-04-12 12:37:55.870 +04:00 [DBG] An entity of type 'AccountEntity' tracked by 'BankSystemDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-04-12 12:37:55.872 +04:00 [DBG] SaveChanges completed for 'BankSystemDbContext' with 1 entities written to the database.
2023-04-12 12:37:55.874 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-04-12 12:37:55.876 +04:00 [DBG] No information found on request to perform content negotiation.
2023-04-12 12:37:55.877 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-04-12 12:37:55.878 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-04-12 12:37:55.879 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-04-12 12:37:55.880 +04:00 [INF] Executing OkObjectResult, writing value of type 'BankSystem.Common.Models.HttpResult'.
2023-04-12 12:37:55.881 +04:00 [INF] Executed action BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api) in 97.0827ms
2023-04-12 12:37:55.883 +04:00 [INF] Executed endpoint 'BankSystem.InternetBank.Api.Controllers.OperatorController.RegisterAccountAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:37:55.884 +04:00 [DBG] 'BankSystemDbContext' disposed.
2023-04-12 12:37:55.885 +04:00 [DBG] Disposing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:37:55.887 +04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-04-12 12:37:55.888 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7195/Operator/register-bank-account application/json 55 - 200 - application/json;+charset=utf-8 127.2923ms
2023-04-12 12:38:03.740 +04:00 [DBG] Connection id "0HMPR6422RAIF" received FIN.
2023-04-12 12:38:03.741 +04:00 [DBG] Connection id "0HMPR6422RAIF" is closed. The last processed stream ID was 3.
2023-04-12 12:38:03.742 +04:00 [DBG] Connection id "0HMPR6422RAIF" sending FIN because: "The client closed the connection."
2023-04-12 12:38:03.744 +04:00 [DBG] The connection queue processing loop for 0HMPR6422RAIF completed.
2023-04-12 12:38:03.745 +04:00 [DBG] Connection id "0HMPR6422RAIF" stopped.
2023-04-12 12:38:07.920 +04:00 [DBG] Connection id "0HMPR6422RAIG" accepted.
2023-04-12 12:38:07.921 +04:00 [DBG] Connection id "0HMPR6422RAIG" started.
2023-04-12 12:38:07.923 +04:00 [DBG] Connection 0HMPR6422RAIG established using the following protocol: "Tls12"
2023-04-12 12:38:07.924 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7195/User/login - -
2023-04-12 12:38:07.925 +04:00 [DBG] 1 candidate(s) found for the request path '/User/login'
2023-04-12 12:38:07.926 +04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2023-04-12 12:38:07.927 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:38:07.927 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:38:07.928 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:38:07.929 +04:00 [DBG] The request is a preflight request.
2023-04-12 12:38:07.930 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7195/User/login - - - 204 - - 5.9741ms
2023-04-12 12:38:07.932 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7195/User/login application/json 50
2023-04-12 12:38:07.932 +04:00 [DBG] 1 candidate(s) found for the request path '/User/login'
2023-04-12 12:38:07.934 +04:00 [DBG] Endpoint 'BankSystem.InternetBank.Api.Controllers.UserController.LoginAsync (BankSystem.InternetBank.Api)' with route pattern 'User/login' is valid for the request path '/User/login'
2023-04-12 12:38:07.935 +04:00 [DBG] Request matched endpoint 'BankSystem.InternetBank.Api.Controllers.UserController.LoginAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:38:07.936 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:38:07.937 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:38:07.938 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:38:07.938 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-04-12 12:38:07.939 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-04-12 12:38:07.940 +04:00 [INF] Executing endpoint 'BankSystem.InternetBank.Api.Controllers.UserController.LoginAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:38:07.941 +04:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(BankSystem.InternetBank.Models.Requests.LoginRequest) on controller BankSystem.InternetBank.Api.Controllers.UserController (BankSystem.InternetBank.Api).
2023-04-12 12:38:07.943 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-04-12 12:38:07.945 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-04-12 12:38:07.946 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-04-12 12:38:07.948 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-04-12 12:38:07.949 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-04-12 12:38:07.950 +04:00 [DBG] Executing controller factory for controller BankSystem.InternetBank.Api.Controllers.UserController (BankSystem.InternetBank.Api)
2023-04-12 12:38:07.952 +04:00 [DBG] Executed controller factory for controller BankSystem.InternetBank.Api.Controllers.UserController (BankSystem.InternetBank.Api)
2023-04-12 12:38:07.953 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.LoginRequest' ...
2023-04-12 12:38:07.954 +04:00 [DBG] Attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.LoginRequest' using the name '' in request data ...
2023-04-12 12:38:07.956 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-04-12 12:38:07.957 +04:00 [DBG] Connection id "0HMPR6422RAIG", Request id "0HMPR6422RAIG:00000003": started reading request body.
2023-04-12 12:38:07.958 +04:00 [DBG] Connection id "0HMPR6422RAIG", Request id "0HMPR6422RAIG:00000003": done reading request body.
2023-04-12 12:38:07.959 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BankSystem.InternetBank.Models.Requests.LoginRequest'
2023-04-12 12:38:07.960 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.LoginRequest'.
2023-04-12 12:38:07.961 +04:00 [DBG] Done attempting to bind parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.LoginRequest'.
2023-04-12 12:38:07.963 +04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.LoginRequest' ...
2023-04-12 12:38:07.964 +04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'BankSystem.InternetBank.Models.Requests.LoginRequest'.
2023-04-12 12:38:07.966 +04:00 [DBG] Entity Framework Core 7.0.3 initialized 'BankSystemDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.3' with options: None
2023-04-12 12:38:07.968 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-04-12 12:38:07.969 +04:00 [DBG] Creating DbConnection.
2023-04-12 12:38:07.970 +04:00 [DBG] Created DbConnection. (0ms).
2023-04-12 12:38:07.971 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-04-12 12:38:07.972 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-04-12 12:38:07.973 +04:00 [DBG] Opening connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:07.975 +04:00 [DBG] Opened connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:07.976 +04:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonalNumber], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegisteredAt], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-04-12 12:38:07.980 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonalNumber], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegisteredAt], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-04-12 12:38:07.983 +04:00 [DBG] Context 'BankSystemDbContext' started tracking 'UserEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-04-12 12:38:07.984 +04:00 [DBG] Closing data reader to 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:07.986 +04:00 [DBG] A data reader for 'BankSystem' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2023-04-12 12:38:07.987 +04:00 [DBG] Closing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:07.988 +04:00 [DBG] Closed connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB' (1ms).
2023-04-12 12:38:08.061 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-04-12 12:38:08.062 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-04-12 12:38:08.064 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-04-12 12:38:08.065 +04:00 [DBG] Opening connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:08.066 +04:00 [DBG] Opened connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:08.067 +04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-04-12 12:38:08.074 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-04-12 12:38:08.077 +04:00 [DBG] Closing data reader to 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:08.078 +04:00 [DBG] A data reader for 'BankSystem' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2023-04-12 12:38:08.080 +04:00 [DBG] Closing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:08.081 +04:00 [DBG] Closed connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB' (1ms).
2023-04-12 12:38:08.083 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-04-12 12:38:08.086 +04:00 [DBG] No information found on request to perform content negotiation.
2023-04-12 12:38:08.086 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-04-12 12:38:08.087 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-04-12 12:38:08.088 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-04-12 12:38:08.090 +04:00 [INF] Executing OkObjectResult, writing value of type 'BankSystem.Common.Models.HttpResult'.
2023-04-12 12:38:08.091 +04:00 [INF] Executed action BankSystem.InternetBank.Api.Controllers.UserController.LoginAsync (BankSystem.InternetBank.Api) in 140.9036ms
2023-04-12 12:38:08.093 +04:00 [INF] Executed endpoint 'BankSystem.InternetBank.Api.Controllers.UserController.LoginAsync (BankSystem.InternetBank.Api)'
2023-04-12 12:38:08.095 +04:00 [DBG] 'BankSystemDbContext' disposed.
2023-04-12 12:38:08.096 +04:00 [DBG] Disposing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:08.098 +04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-04-12 12:38:08.100 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7195/User/login application/json 50 - 200 - application/json;+charset=utf-8 168.6894ms
2023-04-12 12:38:08.120 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7195/User/get-accounts - -
2023-04-12 12:38:08.120 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7195/User/get-accounts - -
2023-04-12 12:38:08.121 +04:00 [DBG] 1 candidate(s) found for the request path '/User/get-accounts'
2023-04-12 12:38:08.121 +04:00 [DBG] 1 candidate(s) found for the request path '/User/get-accounts'
2023-04-12 12:38:08.123 +04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2023-04-12 12:38:08.124 +04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2023-04-12 12:38:08.126 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:38:08.127 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:38:08.128 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:38:08.129 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:38:08.130 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:38:08.132 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:38:08.133 +04:00 [DBG] The request is a preflight request.
2023-04-12 12:38:08.134 +04:00 [DBG] The request is a preflight request.
2023-04-12 12:38:08.135 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7195/User/get-accounts - - - 204 - - 15.5630ms
2023-04-12 12:38:08.136 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7195/User/get-accounts - - - 204 - - 16.3092ms
2023-04-12 12:38:08.139 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7195/User/get-accounts - -
2023-04-12 12:38:08.140 +04:00 [DBG] 1 candidate(s) found for the request path '/User/get-accounts'
2023-04-12 12:38:08.141 +04:00 [DBG] Endpoint 'BankSystem.InternetBank.Api.Controllers.UserController.GetAccounts (BankSystem.InternetBank.Api)' with route pattern 'User/get-accounts' is valid for the request path '/User/get-accounts'
2023-04-12 12:38:08.143 +04:00 [DBG] Request matched endpoint 'BankSystem.InternetBank.Api.Controllers.UserController.GetAccounts (BankSystem.InternetBank.Api)'
2023-04-12 12:38:08.144 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:38:08.145 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:38:08.146 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:38:08.148 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-04-12 12:38:08.149 +04:00 [DBG] Successfully validated the token.
2023-04-12 12:38:08.150 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-04-12 12:38:08.151 +04:00 [DBG] Authorization was successful.
2023-04-12 12:38:08.152 +04:00 [INF] Executing endpoint 'BankSystem.InternetBank.Api.Controllers.UserController.GetAccounts (BankSystem.InternetBank.Api)'
2023-04-12 12:38:08.158 +04:00 [INF] Route matched with {action = "GetAccounts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAccounts() on controller BankSystem.InternetBank.Api.Controllers.UserController (BankSystem.InternetBank.Api).
2023-04-12 12:38:08.160 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-04-12 12:38:08.162 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-04-12 12:38:08.164 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-04-12 12:38:08.166 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-04-12 12:38:08.167 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-04-12 12:38:08.169 +04:00 [DBG] Executing controller factory for controller BankSystem.InternetBank.Api.Controllers.UserController (BankSystem.InternetBank.Api)
2023-04-12 12:38:08.173 +04:00 [DBG] Executed controller factory for controller BankSystem.InternetBank.Api.Controllers.UserController (BankSystem.InternetBank.Api)
2023-04-12 12:38:08.179 +04:00 [DBG] Entity Framework Core 7.0.3 initialized 'BankSystemDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.3' with options: None
2023-04-12 12:38:08.182 +04:00 [DBG] Compiling query expression: 
'DbSet<UserEntity>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "Id"), 
        objB: __get_Item_0))'
2023-04-12 12:38:08.188 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserEntity>(
    asyncEnumerable: new SingleQueryingEnumerable<UserEntity>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserEntity.AccessFailedCount (int) Required, 1], [Property: UserEntity.BirthDate (DateTime) Required, 2], [Property: UserEntity.ConcurrencyStamp (string) Concurrency, 3], [Property: UserEntity.Email (string) MaxLength(256), 4], [Property: UserEntity.EmailConfirmed (bool) Required, 5], [Property: UserEntity.FirstName (string), 6], [Property: UserEntity.LastName (string), 7], [Property: UserEntity.LockoutEnabled (bool) Required, 8], [Property: UserEntity.LockoutEnd (DateTimeOffset?), 9], [Property: UserEntity.NormalizedEmail (string) Index MaxLength(256), 10], [Property: UserEntity.NormalizedUserName (string) Index MaxLength(256), 11], [Property: UserEntity.PasswordHash (string), 12], [Property: UserEntity.PersonalNumber (string), 13], [Property: UserEntity.PhoneNumber (string), 14], [Property: UserEntity.PhoneNumberConfirmed (bool) Required, 15], [Property: UserEntity.RegisteredAt (DateTime) Required, 16], [Property: UserEntity.SecurityStamp (string), 17], [Property: UserEntity.TwoFactorEnabled (bool) Required, 18], [Property: UserEntity.UserName (string) MaxLength(256), 19] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.BirthDate, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PersonalNumber, a.PhoneNumber, a.PhoneNumberConfirmed, a.RegisteredAt, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.Id == @__get_Item_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserEntity>, 
        BankSystem.Common.Db.BankSystemDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-04-12 12:38:08.192 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-04-12 12:38:08.193 +04:00 [DBG] Creating DbConnection.
2023-04-12 12:38:08.194 +04:00 [DBG] Created DbConnection. (0ms).
2023-04-12 12:38:08.195 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-04-12 12:38:08.196 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-04-12 12:38:08.198 +04:00 [DBG] Opening connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:08.199 +04:00 [DBG] Opened connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:08.200 +04:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonalNumber], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegisteredAt], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2023-04-12 12:38:08.205 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonalNumber], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegisteredAt], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2023-04-12 12:38:08.207 +04:00 [DBG] Context 'BankSystemDbContext' started tracking 'UserEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-04-12 12:38:08.209 +04:00 [DBG] Closing data reader to 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:08.210 +04:00 [DBG] A data reader for 'BankSystem' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2023-04-12 12:38:08.211 +04:00 [DBG] Closing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:08.213 +04:00 [DBG] Closed connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB' (1ms).
2023-04-12 12:38:08.219 +04:00 [DBG] Compiling query expression: 
'DbSet<AccountEntity>()
    .Include(a => a.UserEntity)
    .Where(a => a.UserEntity == __user_0)'
2023-04-12 12:38:08.231 +04:00 [DBG] Including navigation: 'AccountEntity.UserEntity'.
2023-04-12 12:38:08.250 +04:00 [DBG] Generated query execution expression: 
'queryContext => 
{
    queryContext.AddParameter(
        name: "__entity_equality_user_0_Id", 
        value: (object)Invoke(queryContext => RelationalSqlTranslatingExpressionVisitor.ParameterValueExtractor<Guid?>(
            context: queryContext, 
            baseParameterName: "__user_0", 
            property: Property: UserEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd), queryContext));
    return new SingleQueryingEnumerable<AccountEntity>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: AccountEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AccountEntity.Amount (decimal) Required, 1], [Property: AccountEntity.Currency (CurrencyType) Required, 2], [Property: AccountEntity.Iban (string), 3], [Property: AccountEntity.UserId (Guid) Required FK Index, 4] }
                1 -> Dictionary<IProperty, int> { [Property: UserEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: UserEntity.AccessFailedCount (int) Required, 6], [Property: UserEntity.BirthDate (DateTime) Required, 7], [Property: UserEntity.ConcurrencyStamp (string) Concurrency, 8], [Property: UserEntity.Email (string) MaxLength(256), 9], [Property: UserEntity.EmailConfirmed (bool) Required, 10], [Property: UserEntity.FirstName (string), 11], [Property: UserEntity.LastName (string), 12], [Property: UserEntity.LockoutEnabled (bool) Required, 13], [Property: UserEntity.LockoutEnd (DateTimeOffset?), 14], [Property: UserEntity.NormalizedEmail (string) Index MaxLength(256), 15], [Property: UserEntity.NormalizedUserName (string) Index MaxLength(256), 16], [Property: UserEntity.PasswordHash (string), 17], [Property: UserEntity.PersonalNumber (string), 18], [Property: UserEntity.PhoneNumber (string), 19], [Property: UserEntity.PhoneNumberConfirmed (bool) Required, 20], [Property: UserEntity.RegisteredAt (DateTime) Required, 21], [Property: UserEntity.SecurityStamp (string), 22], [Property: UserEntity.TwoFactorEnabled (bool) Required, 23], [Property: UserEntity.UserName (string) MaxLength(256), 24] }
            SELECT a.Id, a.Amount, a.Currency, a.Iban, a.UserId, a0.Id, a0.AccessFailedCount, a0.BirthDate, a0.ConcurrencyStamp, a0.Email, a0.EmailConfirmed, a0.FirstName, a0.LastName, a0.LockoutEnabled, a0.LockoutEnd, a0.NormalizedEmail, a0.NormalizedUserName, a0.PasswordHash, a0.PersonalNumber, a0.PhoneNumber, a0.PhoneNumberConfirmed, a0.RegisteredAt, a0.SecurityStamp, a0.TwoFactorEnabled, a0.UserName
            FROM Accounts AS a
            INNER JOIN AspNetUsers AS a0 ON a.UserId == a0.Id
            WHERE a0.Id == @__entity_equality_user_0_Id), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AccountEntity>, 
        BankSystem.Common.Db.BankSystemDbContext, 
        False, 
        False, 
        True
    );
}'
2023-04-12 12:38:08.256 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-04-12 12:38:08.257 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-04-12 12:38:08.258 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-04-12 12:38:08.259 +04:00 [DBG] Opening connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:08.260 +04:00 [DBG] Opened connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:08.262 +04:00 [DBG] Executing DbCommand [Parameters=[@__entity_equality_user_0_Id='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Amount], [a].[Currency], [a].[Iban], [a].[UserId], [a0].[Id], [a0].[AccessFailedCount], [a0].[BirthDate], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FirstName], [a0].[LastName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PersonalNumber], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[RegisteredAt], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [Accounts] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a0].[Id] = @__entity_equality_user_0_Id
2023-04-12 12:38:08.267 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__entity_equality_user_0_Id='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Amount], [a].[Currency], [a].[Iban], [a].[UserId], [a0].[Id], [a0].[AccessFailedCount], [a0].[BirthDate], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FirstName], [a0].[LastName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PersonalNumber], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[RegisteredAt], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [Accounts] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a0].[Id] = @__entity_equality_user_0_Id
2023-04-12 12:38:08.272 +04:00 [DBG] Context 'BankSystemDbContext' started tracking 'AccountEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-04-12 12:38:08.275 +04:00 [DBG] Context 'BankSystemDbContext' started tracking 'AccountEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-04-12 12:38:08.276 +04:00 [DBG] Closing data reader to 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:08.277 +04:00 [DBG] A data reader for 'BankSystem' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 7ms reading results.
2023-04-12 12:38:08.279 +04:00 [DBG] Closing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:08.280 +04:00 [DBG] Closed connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB' (1ms).
2023-04-12 12:38:08.283 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-04-12 12:38:08.286 +04:00 [DBG] No information found on request to perform content negotiation.
2023-04-12 12:38:08.286 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-04-12 12:38:08.287 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-04-12 12:38:08.288 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-04-12 12:38:08.289 +04:00 [INF] Executing OkObjectResult, writing value of type 'BankSystem.Common.Models.HttpResult'.
2023-04-12 12:38:08.291 +04:00 [INF] Executed action BankSystem.InternetBank.Api.Controllers.UserController.GetAccounts (BankSystem.InternetBank.Api) in 121.9498ms
2023-04-12 12:38:08.293 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7195/User/get-accounts - -
2023-04-12 12:38:08.293 +04:00 [INF] Executed endpoint 'BankSystem.InternetBank.Api.Controllers.UserController.GetAccounts (BankSystem.InternetBank.Api)'
2023-04-12 12:38:08.294 +04:00 [DBG] 1 candidate(s) found for the request path '/User/get-accounts'
2023-04-12 12:38:08.295 +04:00 [DBG] 'BankSystemDbContext' disposed.
2023-04-12 12:38:08.296 +04:00 [DBG] Endpoint 'BankSystem.InternetBank.Api.Controllers.UserController.GetAccounts (BankSystem.InternetBank.Api)' with route pattern 'User/get-accounts' is valid for the request path '/User/get-accounts'
2023-04-12 12:38:08.297 +04:00 [DBG] Disposing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:08.298 +04:00 [DBG] Request matched endpoint 'BankSystem.InternetBank.Api.Controllers.UserController.GetAccounts (BankSystem.InternetBank.Api)'
2023-04-12 12:38:08.300 +04:00 [DBG] Disposed connection to database '' on server '' (2ms).
2023-04-12 12:38:08.301 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:38:08.303 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7195/User/get-accounts - - - 200 - application/json;+charset=utf-8 163.9095ms
2023-04-12 12:38:08.304 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:38:08.306 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:38:08.307 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-04-12 12:38:08.308 +04:00 [DBG] Successfully validated the token.
2023-04-12 12:38:08.309 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-04-12 12:38:08.310 +04:00 [DBG] Authorization was successful.
2023-04-12 12:38:08.311 +04:00 [INF] Executing endpoint 'BankSystem.InternetBank.Api.Controllers.UserController.GetAccounts (BankSystem.InternetBank.Api)'
2023-04-12 12:38:08.312 +04:00 [INF] Route matched with {action = "GetAccounts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAccounts() on controller BankSystem.InternetBank.Api.Controllers.UserController (BankSystem.InternetBank.Api).
2023-04-12 12:38:08.314 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-04-12 12:38:08.315 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-04-12 12:38:08.317 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-04-12 12:38:08.318 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-04-12 12:38:08.320 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-04-12 12:38:08.321 +04:00 [DBG] Executing controller factory for controller BankSystem.InternetBank.Api.Controllers.UserController (BankSystem.InternetBank.Api)
2023-04-12 12:38:08.323 +04:00 [DBG] Executed controller factory for controller BankSystem.InternetBank.Api.Controllers.UserController (BankSystem.InternetBank.Api)
2023-04-12 12:38:08.325 +04:00 [DBG] Entity Framework Core 7.0.3 initialized 'BankSystemDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.3' with options: None
2023-04-12 12:38:08.328 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-04-12 12:38:08.329 +04:00 [DBG] Creating DbConnection.
2023-04-12 12:38:08.330 +04:00 [DBG] Created DbConnection. (0ms).
2023-04-12 12:38:08.331 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-04-12 12:38:08.332 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-04-12 12:38:08.333 +04:00 [DBG] Opening connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:08.335 +04:00 [DBG] Opened connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:08.336 +04:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonalNumber], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegisteredAt], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2023-04-12 12:38:08.340 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonalNumber], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegisteredAt], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2023-04-12 12:38:08.343 +04:00 [DBG] Context 'BankSystemDbContext' started tracking 'UserEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-04-12 12:38:08.344 +04:00 [DBG] Closing data reader to 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:08.345 +04:00 [DBG] A data reader for 'BankSystem' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2023-04-12 12:38:08.347 +04:00 [DBG] Closing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:08.348 +04:00 [DBG] Closed connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB' (1ms).
2023-04-12 12:38:08.350 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-04-12 12:38:08.351 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-04-12 12:38:08.353 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-04-12 12:38:08.354 +04:00 [DBG] Opening connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:08.355 +04:00 [DBG] Opened connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:08.356 +04:00 [DBG] Executing DbCommand [Parameters=[@__entity_equality_user_0_Id='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Amount], [a].[Currency], [a].[Iban], [a].[UserId], [a0].[Id], [a0].[AccessFailedCount], [a0].[BirthDate], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FirstName], [a0].[LastName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PersonalNumber], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[RegisteredAt], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [Accounts] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a0].[Id] = @__entity_equality_user_0_Id
2023-04-12 12:38:08.361 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__entity_equality_user_0_Id='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Amount], [a].[Currency], [a].[Iban], [a].[UserId], [a0].[Id], [a0].[AccessFailedCount], [a0].[BirthDate], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FirstName], [a0].[LastName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PersonalNumber], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[RegisteredAt], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [Accounts] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a0].[Id] = @__entity_equality_user_0_Id
2023-04-12 12:38:08.365 +04:00 [DBG] Context 'BankSystemDbContext' started tracking 'AccountEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-04-12 12:38:08.367 +04:00 [DBG] Context 'BankSystemDbContext' started tracking 'AccountEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-04-12 12:38:08.368 +04:00 [DBG] Closing data reader to 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:08.369 +04:00 [DBG] A data reader for 'BankSystem' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 4ms reading results.
2023-04-12 12:38:08.371 +04:00 [DBG] Closing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:08.372 +04:00 [DBG] Closed connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB' (1ms).
2023-04-12 12:38:08.374 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-04-12 12:38:08.376 +04:00 [DBG] No information found on request to perform content negotiation.
2023-04-12 12:38:08.377 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-04-12 12:38:08.378 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-04-12 12:38:08.378 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-04-12 12:38:08.380 +04:00 [INF] Executing OkObjectResult, writing value of type 'BankSystem.Common.Models.HttpResult'.
2023-04-12 12:38:08.381 +04:00 [INF] Executed action BankSystem.InternetBank.Api.Controllers.UserController.GetAccounts (BankSystem.InternetBank.Api) in 60.0434ms
2023-04-12 12:38:08.383 +04:00 [INF] Executed endpoint 'BankSystem.InternetBank.Api.Controllers.UserController.GetAccounts (BankSystem.InternetBank.Api)'
2023-04-12 12:38:08.384 +04:00 [DBG] 'BankSystemDbContext' disposed.
2023-04-12 12:38:08.385 +04:00 [DBG] Disposing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:08.387 +04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-04-12 12:38:08.388 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7195/User/get-accounts - - - 200 - application/json;+charset=utf-8 95.1919ms
2023-04-12 12:38:09.402 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7195/User/get-account-cards?iban=GE29AF3265301083233860 - -
2023-04-12 12:38:09.404 +04:00 [DBG] 1 candidate(s) found for the request path '/User/get-account-cards'
2023-04-12 12:38:09.405 +04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2023-04-12 12:38:09.405 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:38:09.406 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:38:09.407 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:38:09.408 +04:00 [DBG] The request is a preflight request.
2023-04-12 12:38:09.408 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7195/User/get-account-cards?iban=GE29AF3265301083233860 - - - 204 - - 5.8892ms
2023-04-12 12:38:09.410 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7195/User/get-account-cards?iban=GE29AF3265301083233860 - -
2023-04-12 12:38:09.411 +04:00 [DBG] 1 candidate(s) found for the request path '/User/get-account-cards'
2023-04-12 12:38:09.413 +04:00 [DBG] Endpoint 'BankSystem.InternetBank.Api.Controllers.UserController.GetAccountCards (BankSystem.InternetBank.Api)' with route pattern 'User/get-account-cards' is valid for the request path '/User/get-account-cards'
2023-04-12 12:38:09.414 +04:00 [DBG] Request matched endpoint 'BankSystem.InternetBank.Api.Controllers.UserController.GetAccountCards (BankSystem.InternetBank.Api)'
2023-04-12 12:38:09.415 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:38:09.416 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:38:09.417 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:38:09.418 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-04-12 12:38:09.419 +04:00 [DBG] Successfully validated the token.
2023-04-12 12:38:09.420 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-04-12 12:38:09.421 +04:00 [DBG] Authorization was successful.
2023-04-12 12:38:09.421 +04:00 [INF] Executing endpoint 'BankSystem.InternetBank.Api.Controllers.UserController.GetAccountCards (BankSystem.InternetBank.Api)'
2023-04-12 12:38:09.426 +04:00 [INF] Route matched with {action = "GetAccountCards", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAccountCards(System.String) on controller BankSystem.InternetBank.Api.Controllers.UserController (BankSystem.InternetBank.Api).
2023-04-12 12:38:09.428 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-04-12 12:38:09.430 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-04-12 12:38:09.431 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-04-12 12:38:09.434 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-04-12 12:38:09.435 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-04-12 12:38:09.436 +04:00 [DBG] Executing controller factory for controller BankSystem.InternetBank.Api.Controllers.UserController (BankSystem.InternetBank.Api)
2023-04-12 12:38:09.438 +04:00 [DBG] Executed controller factory for controller BankSystem.InternetBank.Api.Controllers.UserController (BankSystem.InternetBank.Api)
2023-04-12 12:38:09.444 +04:00 [DBG] Attempting to bind parameter 'iban' of type 'System.String' ...
2023-04-12 12:38:09.446 +04:00 [DBG] Attempting to bind parameter 'iban' of type 'System.String' using the name 'iban' in request data ...
2023-04-12 12:38:09.448 +04:00 [DBG] Done attempting to bind parameter 'iban' of type 'System.String'.
2023-04-12 12:38:09.449 +04:00 [DBG] Done attempting to bind parameter 'iban' of type 'System.String'.
2023-04-12 12:38:09.450 +04:00 [DBG] Attempting to validate the bound parameter 'iban' of type 'System.String' ...
2023-04-12 12:38:09.452 +04:00 [DBG] Done attempting to validate the bound parameter 'iban' of type 'System.String'.
2023-04-12 12:38:09.454 +04:00 [DBG] Entity Framework Core 7.0.3 initialized 'BankSystemDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.3' with options: None
2023-04-12 12:38:09.457 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-04-12 12:38:09.459 +04:00 [DBG] Creating DbConnection.
2023-04-12 12:38:09.459 +04:00 [DBG] Created DbConnection. (0ms).
2023-04-12 12:38:09.460 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-04-12 12:38:09.462 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-04-12 12:38:09.463 +04:00 [DBG] Opening connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:09.465 +04:00 [DBG] Opened connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:09.466 +04:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonalNumber], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegisteredAt], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2023-04-12 12:38:09.470 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonalNumber], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegisteredAt], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2023-04-12 12:38:09.473 +04:00 [DBG] Context 'BankSystemDbContext' started tracking 'UserEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-04-12 12:38:09.475 +04:00 [DBG] Closing data reader to 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:09.476 +04:00 [DBG] A data reader for 'BankSystem' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2023-04-12 12:38:09.478 +04:00 [DBG] Closing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:09.479 +04:00 [DBG] Closed connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB' (1ms).
2023-04-12 12:38:09.484 +04:00 [DBG] Compiling query expression: 
'DbSet<AccountEntity>()
    .Where(a => a.Iban == __iban_0)
    .SelectMany(a => a.Cards)'
2023-04-12 12:38:09.498 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<CardEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: CardEntity.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CardEntity.AccountId (Guid) Required FK Index, 1], [Property: CardEntity.CardNumber (string), 2], [Property: CardEntity.CreatedAt (DateTime) Required, 3], [Property: CardEntity.Cvv (string), 4], [Property: CardEntity.ExpiresAt (DateTime) Required, 5], [Property: CardEntity.FullName (string), 6], [Property: CardEntity.Pin (string), 7] }
        SELECT c.Id, c.AccountId, c.CardNumber, c.CreatedAt, c.Cvv, c.ExpiresAt, c.FullName, c.Pin
        FROM Accounts AS a
        INNER JOIN Cards AS c ON a.Id == c.AccountId
        WHERE a.Iban == @__iban_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CardEntity>, 
    BankSystem.Common.Db.BankSystemDbContext, 
    False, 
    False, 
    True
)'
2023-04-12 12:38:09.502 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-04-12 12:38:09.503 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-04-12 12:38:09.505 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-04-12 12:38:09.506 +04:00 [DBG] Opening connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:09.507 +04:00 [DBG] Opened connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:09.509 +04:00 [DBG] Executing DbCommand [Parameters=[@__iban_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[AccountId], [c].[CardNumber], [c].[CreatedAt], [c].[Cvv], [c].[ExpiresAt], [c].[FullName], [c].[Pin]
FROM [Accounts] AS [a]
INNER JOIN [Cards] AS [c] ON [a].[Id] = [c].[AccountId]
WHERE [a].[Iban] = @__iban_0
2023-04-12 12:38:09.514 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__iban_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[AccountId], [c].[CardNumber], [c].[CreatedAt], [c].[Cvv], [c].[ExpiresAt], [c].[FullName], [c].[Pin]
FROM [Accounts] AS [a]
INNER JOIN [Cards] AS [c] ON [a].[Id] = [c].[AccountId]
WHERE [a].[Iban] = @__iban_0
2023-04-12 12:38:09.517 +04:00 [DBG] Closing data reader to 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:09.519 +04:00 [DBG] A data reader for 'BankSystem' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2023-04-12 12:38:09.520 +04:00 [DBG] Closing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:09.521 +04:00 [DBG] Closed connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB' (1ms).
2023-04-12 12:38:09.524 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-04-12 12:38:09.528 +04:00 [DBG] No information found on request to perform content negotiation.
2023-04-12 12:38:09.528 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-04-12 12:38:09.530 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-04-12 12:38:09.531 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-04-12 12:38:09.532 +04:00 [INF] Executing OkObjectResult, writing value of type 'BankSystem.Common.Models.HttpResult'.
2023-04-12 12:38:09.535 +04:00 [INF] Executed action BankSystem.InternetBank.Api.Controllers.UserController.GetAccountCards (BankSystem.InternetBank.Api) in 98.6658ms
2023-04-12 12:38:09.537 +04:00 [INF] Executed endpoint 'BankSystem.InternetBank.Api.Controllers.UserController.GetAccountCards (BankSystem.InternetBank.Api)'
2023-04-12 12:38:09.538 +04:00 [DBG] 'BankSystemDbContext' disposed.
2023-04-12 12:38:09.540 +04:00 [DBG] Disposing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:09.541 +04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-04-12 12:38:09.543 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7195/User/get-account-cards?iban=GE29AF3265301083233860 - - - 200 - application/json;+charset=utf-8 132.6942ms
2023-04-12 12:38:10.665 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7195/User/get-account-cards?iban=GE83MS4826425834078516 - -
2023-04-12 12:38:10.666 +04:00 [DBG] 1 candidate(s) found for the request path '/User/get-account-cards'
2023-04-12 12:38:10.667 +04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2023-04-12 12:38:10.668 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:38:10.669 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:38:10.670 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:38:10.671 +04:00 [DBG] The request is a preflight request.
2023-04-12 12:38:10.672 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7195/User/get-account-cards?iban=GE83MS4826425834078516 - - - 204 - - 6.6759ms
2023-04-12 12:38:10.674 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7195/User/get-account-cards?iban=GE83MS4826425834078516 - -
2023-04-12 12:38:10.675 +04:00 [DBG] 1 candidate(s) found for the request path '/User/get-account-cards'
2023-04-12 12:38:10.676 +04:00 [DBG] Endpoint 'BankSystem.InternetBank.Api.Controllers.UserController.GetAccountCards (BankSystem.InternetBank.Api)' with route pattern 'User/get-account-cards' is valid for the request path '/User/get-account-cards'
2023-04-12 12:38:10.678 +04:00 [DBG] Request matched endpoint 'BankSystem.InternetBank.Api.Controllers.UserController.GetAccountCards (BankSystem.InternetBank.Api)'
2023-04-12 12:38:10.679 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:38:10.679 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:38:10.680 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:38:10.681 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-04-12 12:38:10.682 +04:00 [DBG] Successfully validated the token.
2023-04-12 12:38:10.683 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-04-12 12:38:10.684 +04:00 [DBG] Authorization was successful.
2023-04-12 12:38:10.685 +04:00 [INF] Executing endpoint 'BankSystem.InternetBank.Api.Controllers.UserController.GetAccountCards (BankSystem.InternetBank.Api)'
2023-04-12 12:38:10.687 +04:00 [INF] Route matched with {action = "GetAccountCards", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAccountCards(System.String) on controller BankSystem.InternetBank.Api.Controllers.UserController (BankSystem.InternetBank.Api).
2023-04-12 12:38:10.688 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-04-12 12:38:10.690 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-04-12 12:38:10.692 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-04-12 12:38:10.694 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-04-12 12:38:10.695 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-04-12 12:38:10.697 +04:00 [DBG] Executing controller factory for controller BankSystem.InternetBank.Api.Controllers.UserController (BankSystem.InternetBank.Api)
2023-04-12 12:38:10.698 +04:00 [DBG] Executed controller factory for controller BankSystem.InternetBank.Api.Controllers.UserController (BankSystem.InternetBank.Api)
2023-04-12 12:38:10.700 +04:00 [DBG] Attempting to bind parameter 'iban' of type 'System.String' ...
2023-04-12 12:38:10.702 +04:00 [DBG] Attempting to bind parameter 'iban' of type 'System.String' using the name 'iban' in request data ...
2023-04-12 12:38:10.704 +04:00 [DBG] Done attempting to bind parameter 'iban' of type 'System.String'.
2023-04-12 12:38:10.705 +04:00 [DBG] Done attempting to bind parameter 'iban' of type 'System.String'.
2023-04-12 12:38:10.706 +04:00 [DBG] Attempting to validate the bound parameter 'iban' of type 'System.String' ...
2023-04-12 12:38:10.708 +04:00 [DBG] Done attempting to validate the bound parameter 'iban' of type 'System.String'.
2023-04-12 12:38:10.709 +04:00 [DBG] Entity Framework Core 7.0.3 initialized 'BankSystemDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.3' with options: None
2023-04-12 12:38:10.712 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-04-12 12:38:10.713 +04:00 [DBG] Creating DbConnection.
2023-04-12 12:38:10.714 +04:00 [DBG] Created DbConnection. (0ms).
2023-04-12 12:38:10.715 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-04-12 12:38:10.716 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-04-12 12:38:10.717 +04:00 [DBG] Opening connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:10.718 +04:00 [DBG] Opened connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:10.719 +04:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonalNumber], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegisteredAt], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2023-04-12 12:38:10.724 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonalNumber], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegisteredAt], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2023-04-12 12:38:10.727 +04:00 [DBG] Context 'BankSystemDbContext' started tracking 'UserEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-04-12 12:38:10.728 +04:00 [DBG] Closing data reader to 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:10.730 +04:00 [DBG] A data reader for 'BankSystem' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2023-04-12 12:38:10.732 +04:00 [DBG] Closing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:10.733 +04:00 [DBG] Closed connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB' (1ms).
2023-04-12 12:38:10.735 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-04-12 12:38:10.736 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-04-12 12:38:10.738 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-04-12 12:38:10.739 +04:00 [DBG] Opening connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:10.741 +04:00 [DBG] Opened connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:10.742 +04:00 [DBG] Executing DbCommand [Parameters=[@__iban_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[AccountId], [c].[CardNumber], [c].[CreatedAt], [c].[Cvv], [c].[ExpiresAt], [c].[FullName], [c].[Pin]
FROM [Accounts] AS [a]
INNER JOIN [Cards] AS [c] ON [a].[Id] = [c].[AccountId]
WHERE [a].[Iban] = @__iban_0
2023-04-12 12:38:10.746 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__iban_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[AccountId], [c].[CardNumber], [c].[CreatedAt], [c].[Cvv], [c].[ExpiresAt], [c].[FullName], [c].[Pin]
FROM [Accounts] AS [a]
INNER JOIN [Cards] AS [c] ON [a].[Id] = [c].[AccountId]
WHERE [a].[Iban] = @__iban_0
2023-04-12 12:38:10.749 +04:00 [DBG] Closing data reader to 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:10.750 +04:00 [DBG] A data reader for 'BankSystem' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2023-04-12 12:38:10.752 +04:00 [DBG] Closing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:10.753 +04:00 [DBG] Closed connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB' (1ms).
2023-04-12 12:38:10.754 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-04-12 12:38:10.756 +04:00 [DBG] No information found on request to perform content negotiation.
2023-04-12 12:38:10.757 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-04-12 12:38:10.758 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-04-12 12:38:10.759 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-04-12 12:38:10.760 +04:00 [INF] Executing OkObjectResult, writing value of type 'BankSystem.Common.Models.HttpResult'.
2023-04-12 12:38:10.761 +04:00 [INF] Executed action BankSystem.InternetBank.Api.Controllers.UserController.GetAccountCards (BankSystem.InternetBank.Api) in 64.6563ms
2023-04-12 12:38:10.763 +04:00 [INF] Executed endpoint 'BankSystem.InternetBank.Api.Controllers.UserController.GetAccountCards (BankSystem.InternetBank.Api)'
2023-04-12 12:38:10.764 +04:00 [DBG] 'BankSystemDbContext' disposed.
2023-04-12 12:38:10.765 +04:00 [DBG] Disposing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:10.767 +04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-04-12 12:38:10.768 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7195/User/get-account-cards?iban=GE83MS4826425834078516 - - - 200 - application/json;+charset=utf-8 93.8885ms
2023-04-12 12:38:11.752 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7195/User/get-account-cards?iban=GE83MS4826425834078516 - -
2023-04-12 12:38:11.754 +04:00 [DBG] 1 candidate(s) found for the request path '/User/get-account-cards'
2023-04-12 12:38:11.755 +04:00 [DBG] Endpoint 'BankSystem.InternetBank.Api.Controllers.UserController.GetAccountCards (BankSystem.InternetBank.Api)' with route pattern 'User/get-account-cards' is valid for the request path '/User/get-account-cards'
2023-04-12 12:38:11.757 +04:00 [DBG] Request matched endpoint 'BankSystem.InternetBank.Api.Controllers.UserController.GetAccountCards (BankSystem.InternetBank.Api)'
2023-04-12 12:38:11.758 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-04-12 12:38:11.759 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2023-04-12 12:38:11.760 +04:00 [INF] CORS policy execution successful.
2023-04-12 12:38:11.761 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-04-12 12:38:11.762 +04:00 [DBG] Successfully validated the token.
2023-04-12 12:38:11.763 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-04-12 12:38:11.765 +04:00 [DBG] Authorization was successful.
2023-04-12 12:38:11.765 +04:00 [INF] Executing endpoint 'BankSystem.InternetBank.Api.Controllers.UserController.GetAccountCards (BankSystem.InternetBank.Api)'
2023-04-12 12:38:11.767 +04:00 [INF] Route matched with {action = "GetAccountCards", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAccountCards(System.String) on controller BankSystem.InternetBank.Api.Controllers.UserController (BankSystem.InternetBank.Api).
2023-04-12 12:38:11.769 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-04-12 12:38:11.770 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-04-12 12:38:11.771 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-04-12 12:38:11.774 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-04-12 12:38:11.776 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-04-12 12:38:11.777 +04:00 [DBG] Executing controller factory for controller BankSystem.InternetBank.Api.Controllers.UserController (BankSystem.InternetBank.Api)
2023-04-12 12:38:11.779 +04:00 [DBG] Executed controller factory for controller BankSystem.InternetBank.Api.Controllers.UserController (BankSystem.InternetBank.Api)
2023-04-12 12:38:11.781 +04:00 [DBG] Attempting to bind parameter 'iban' of type 'System.String' ...
2023-04-12 12:38:11.782 +04:00 [DBG] Attempting to bind parameter 'iban' of type 'System.String' using the name 'iban' in request data ...
2023-04-12 12:38:11.783 +04:00 [DBG] Done attempting to bind parameter 'iban' of type 'System.String'.
2023-04-12 12:38:11.785 +04:00 [DBG] Done attempting to bind parameter 'iban' of type 'System.String'.
2023-04-12 12:38:11.786 +04:00 [DBG] Attempting to validate the bound parameter 'iban' of type 'System.String' ...
2023-04-12 12:38:11.787 +04:00 [DBG] Done attempting to validate the bound parameter 'iban' of type 'System.String'.
2023-04-12 12:38:11.789 +04:00 [DBG] Entity Framework Core 7.0.3 initialized 'BankSystemDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.3' with options: None
2023-04-12 12:38:11.792 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-04-12 12:38:11.793 +04:00 [DBG] Creating DbConnection.
2023-04-12 12:38:11.794 +04:00 [DBG] Created DbConnection. (0ms).
2023-04-12 12:38:11.795 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-04-12 12:38:11.796 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-04-12 12:38:11.797 +04:00 [DBG] Opening connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:11.799 +04:00 [DBG] Opened connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:11.800 +04:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonalNumber], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegisteredAt], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2023-04-12 12:38:11.804 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonalNumber], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegisteredAt], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2023-04-12 12:38:11.808 +04:00 [DBG] Context 'BankSystemDbContext' started tracking 'UserEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-04-12 12:38:11.809 +04:00 [DBG] Closing data reader to 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:11.810 +04:00 [DBG] A data reader for 'BankSystem' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2023-04-12 12:38:11.812 +04:00 [DBG] Closing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:11.813 +04:00 [DBG] Closed connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB' (1ms).
2023-04-12 12:38:11.815 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-04-12 12:38:11.816 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-04-12 12:38:11.817 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-04-12 12:38:11.818 +04:00 [DBG] Opening connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:11.819 +04:00 [DBG] Opened connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:11.821 +04:00 [DBG] Executing DbCommand [Parameters=[@__iban_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[AccountId], [c].[CardNumber], [c].[CreatedAt], [c].[Cvv], [c].[ExpiresAt], [c].[FullName], [c].[Pin]
FROM [Accounts] AS [a]
INNER JOIN [Cards] AS [c] ON [a].[Id] = [c].[AccountId]
WHERE [a].[Iban] = @__iban_0
2023-04-12 12:38:11.826 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__iban_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[AccountId], [c].[CardNumber], [c].[CreatedAt], [c].[Cvv], [c].[ExpiresAt], [c].[FullName], [c].[Pin]
FROM [Accounts] AS [a]
INNER JOIN [Cards] AS [c] ON [a].[Id] = [c].[AccountId]
WHERE [a].[Iban] = @__iban_0
2023-04-12 12:38:11.828 +04:00 [DBG] Closing data reader to 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:11.830 +04:00 [DBG] A data reader for 'BankSystem' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2023-04-12 12:38:11.831 +04:00 [DBG] Closing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:11.833 +04:00 [DBG] Closed connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB' (1ms).
2023-04-12 12:38:11.834 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-04-12 12:38:11.837 +04:00 [DBG] No information found on request to perform content negotiation.
2023-04-12 12:38:11.837 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-04-12 12:38:11.838 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-04-12 12:38:11.839 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-04-12 12:38:11.841 +04:00 [INF] Executing OkObjectResult, writing value of type 'BankSystem.Common.Models.HttpResult'.
2023-04-12 12:38:11.842 +04:00 [INF] Executed action BankSystem.InternetBank.Api.Controllers.UserController.GetAccountCards (BankSystem.InternetBank.Api) in 64.8412ms
2023-04-12 12:38:11.844 +04:00 [INF] Executed endpoint 'BankSystem.InternetBank.Api.Controllers.UserController.GetAccountCards (BankSystem.InternetBank.Api)'
2023-04-12 12:38:11.845 +04:00 [DBG] 'BankSystemDbContext' disposed.
2023-04-12 12:38:11.846 +04:00 [DBG] Disposing connection to database 'BankSystem' on server '(localdb)\MSSQLLocalDB'.
2023-04-12 12:38:11.847 +04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-04-12 12:38:11.848 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7195/User/get-account-cards?iban=GE83MS4826425834078516 - - - 200 - application/json;+charset=utf-8 95.6767ms
2023-04-12 12:38:13.748 +04:00 [DBG] Connection id "0HMPR6422RAIG" received FIN.
2023-04-12 12:38:13.749 +04:00 [DBG] Connection id "0HMPR6422RAIG" is closed. The last processed stream ID was 21.
2023-04-12 12:38:13.749 +04:00 [DBG] The connection queue processing loop for 0HMPR6422RAIG completed.
2023-04-12 12:38:13.751 +04:00 [DBG] Connection id "0HMPR6422RAIG" sending FIN because: "The client closed the connection."
2023-04-12 12:38:13.763 +04:00 [DBG] Connection id "0HMPR6422RAIG" stopped.
